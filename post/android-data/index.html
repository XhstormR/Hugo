<!doctype html><html lang=zh-cn manifest=https://blog.xhstormr.tk/offline.appcache><head><meta charset=utf-8><meta name=renderer content="webkit"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Android 数据存储 &#183; XhstormR</title><link rel=alternate type=application/rss+xml title=XhstormR href><link rel=icon type=image/x-icon href=https://blog.xhstormr.tk/favicon.ico><link rel=stylesheet href=https://blog.xhstormr.tk/css/uno.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/monokai-sublime.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js></script><script src=https://blog.xhstormr.tk/js/main.min.js async defer></script></head><body><div id=scriptHeader><span class="mobile btn-mobile-menu"><i class="fa fa-bars btn-mobile-menu__icon"></i>
<i class="fa fa-times btn-mobile-close__icon hidden"></i></span><header class="panel-cover panel-cover--collapsed"><div class=panel-main><div class="panel-main__inner panel-inverted"><div class=panel-main__content><h1 class="panel-cover__title panel-title"><a href=https://blog.xhstormr.tk/ title="link to homepage for XhstormR">XhstormR</a></h1><hr class=panel-cover__divider><p class=panel-cover__description>On a dark desert highway, cool wind in my hair.</p><hr class="panel-cover__divider panel-cover__divider--secondary"><div class=navigation-wrapper><nav class="cover-navigation cover-navigation--primary"><ul class=navigation><li class=navigation__item><a href=https://blog.xhstormr.tk#blog title="link to XhstormR blog" class=blog-button>Blog</a></li></ul></nav></div></div></div><div class=panel-cover--overlay></div></div></header></div><div class=bodytop><div class=content-wrapper><div class=content-wrapper__inner><div class=post><h1>Android 数据存储</h1><span class=post-date>2016-10-02</span><p>Updated on 2016-10-06</p><blockquote><p>File</p><p>SQLite</p><p>SharedPreferences</p><p>ContentProvider (组件)</p></blockquote><h2 id=sharedpreferences>SharedPreferences</h2><p>一种轻型的数据存储方式，基于 XML 文件存储（Key-Value）键值对数据。</p><p>( String、int、long、float、boolean、Set&lt;String> )</p><ul><li>SharedPreferences：获取数据 ( getXXX )。</li><li>SharedPreferences.Editor：修改数据 ( putXXX )，存储数据 ( commit、apply )。</li></ul><h3 id=mainactivityjava>MainActivity.java</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> <span style=color:#66d9ef>extends</span> Activity <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>private</span> EditText mUserName<span style=color:#f92672>,</span> mPassword<span style=color:#f92672>;</span>
    <span style=color:#66d9ef>private</span> CheckBox mSaveUserName<span style=color:#f92672>;</span>
    <span style=color:#66d9ef>private</span> SharedPreferences mSharedPreferences<span style=color:#f92672>;</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@Nullable</span> Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>
        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>main_activity</span><span style=color:#f92672>);</span>

        mUserName <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>EditText<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>editText</span><span style=color:#f92672>);</span>
        mPassword <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>EditText<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>editText2</span><span style=color:#f92672>);</span>
        mSaveUserName <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>CheckBox<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>checkBox</span><span style=color:#f92672>);</span>
        mSharedPreferences <span style=color:#f92672>=</span> getSharedPreferences<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;123&#34;</span><span style=color:#f92672>,</span> MODE_PRIVATE<span style=color:#f92672>);</span>     创建自定义 Preferences <span style=color:#a6e22e>文件</span> <span style=color:#f92672>(</span>123<span style=color:#f92672>.</span><span style=color:#a6e22e>xml</span><span style=color:#f92672>)</span>
        <span style=color:#f92672>----</span>
        mSharedPreferences <span style=color:#f92672>=</span> PreferenceManager<span style=color:#f92672>.</span><span style=color:#a6e22e>getDefaultSharedPreferences</span><span style=color:#f92672>(</span>MainActivity<span style=color:#f92672>.</span><span style=color:#a6e22e>this</span><span style=color:#f92672>);</span>     获得应用默认 Preferences <span style=color:#a6e22e>文件</span> <span style=color:#f92672>(</span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>example</span><span style=color:#f92672>.</span><span style=color:#a6e22e>system</span><span style=color:#f92672>.</span><span style=color:#a6e22e>myapplication_preferences</span><span style=color:#f92672>.</span><span style=color:#a6e22e>xml</span><span style=color:#f92672>)</span>

        loadUserName<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>loadUserName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        String userName <span style=color:#f92672>=</span> mSharedPreferences<span style=color:#f92672>.</span><span style=color:#a6e22e>getString</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;userName&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>);</span>     获得参数
        <span style=color:#a6e22e>if</span> <span style=color:#f92672>(!</span>userName<span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
            mUserName<span style=color:#f92672>.</span><span style=color:#a6e22e>setText</span><span style=color:#f92672>(</span>userName<span style=color:#f92672>);</span>
            mSaveUserName<span style=color:#f92672>.</span><span style=color:#a6e22e>setChecked</span><span style=color:#f92672>(</span><span style=color:#66d9ef>true</span><span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>(</span>View view<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>switch</span> <span style=color:#f92672>(</span>view<span style=color:#f92672>.</span><span style=color:#a6e22e>getId</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>case</span> R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>button</span><span style=color:#f92672>:</span>
                String userName <span style=color:#f92672>=</span> mUserName<span style=color:#f92672>.</span><span style=color:#a6e22e>getText</span><span style=color:#f92672>().</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>().</span><span style=color:#a6e22e>trim</span><span style=color:#f92672>();</span>
                String passWord <span style=color:#f92672>=</span> mPassword<span style=color:#f92672>.</span><span style=color:#a6e22e>getText</span><span style=color:#f92672>().</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>().</span><span style=color:#a6e22e>trim</span><span style=color:#f92672>();</span>
                <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span><span style=color:#e6db74>&#34;admin&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>userName<span style=color:#f92672>)</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#e6db74>&#34;123456&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>passWord<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
                    Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>makeText</span><span style=color:#f92672>(</span>MainActivity<span style=color:#f92672>.</span><span style=color:#a6e22e>this</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;登录成功&#34;</span><span style=color:#f92672>,</span> Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>LENGTH_SHORT</span><span style=color:#f92672>).</span><span style=color:#a6e22e>show</span><span style=color:#f92672>();</span>
                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>mSaveUserName<span style=color:#f92672>.</span><span style=color:#a6e22e>isChecked</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>     是否保存用户名
                        mSharedPreferences<span style=color:#f92672>.</span><span style=color:#a6e22e>edit</span><span style=color:#f92672>().</span><span style=color:#a6e22e>putString</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;userName&#34;</span><span style=color:#f92672>,</span> userName<span style=color:#f92672>).</span><span style=color:#a6e22e>apply</span><span style=color:#f92672>();</span>     设置参数
                    <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
                        mSharedPreferences<span style=color:#f92672>.</span><span style=color:#a6e22e>edit</span><span style=color:#f92672>().</span><span style=color:#a6e22e>remove</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;userName&#34;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>apply</span><span style=color:#f92672>();</span>     移除参数
                        <span style=color:#f92672>----</span>
                        mSharedPreferences<span style=color:#f92672>.</span><span style=color:#a6e22e>edit</span><span style=color:#f92672>().</span><span style=color:#a6e22e>clear</span><span style=color:#f92672>().</span><span style=color:#a6e22e>apply</span><span style=color:#f92672>();</span>     清空参数
                    <span style=color:#f92672>}</span>
                <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
                    Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>makeText</span><span style=color:#f92672>(</span>MainActivity<span style=color:#f92672>.</span><span style=color:#a6e22e>this</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;登录失败&#34;</span><span style=color:#f92672>,</span> Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>LENGTH_SHORT</span><span style=color:#f92672>).</span><span style=color:#a6e22e>show</span><span style=color:#f92672>();</span>
                <span style=color:#f92672>}</span>
                <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
            <span style=color:#66d9ef>case</span> R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>button2</span><span style=color:#f92672>:</span>
                finish<span style=color:#f92672>();</span>     结束 Activity
                <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=main_activityxml>main_activity.xml</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#f92672>&lt;RelativeLayout</span> <span style=color:#a6e22e>xmlns:android=</span><span style=color:#e6db74>&#34;http://schemas.android.com/apk/res/android&#34;</span>
                <span style=color:#a6e22e>android:orientation=</span><span style=color:#e6db74>&#34;vertical&#34;</span>
                <span style=color:#a6e22e>android:padding=</span><span style=color:#e6db74>&#34;16dp&#34;</span>
                <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
                <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;match_parent&#34;</span><span style=color:#f92672>&gt;</span>

    <span style=color:#f92672>&lt;TextView</span>
            <span style=color:#a6e22e>android:layout_alignParentStart=</span><span style=color:#e6db74>&#34;true&#34;</span>
            <span style=color:#a6e22e>android:layout_alignParentTop=</span><span style=color:#e6db74>&#34;true&#34;</span>
            <span style=color:#a6e22e>android:layout_marginTop=</span><span style=color:#e6db74>&#34;20dp&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>
            <span style=color:#a6e22e>android:text=</span><span style=color:#e6db74>&#34;用户名：&#34;</span>
            <span style=color:#a6e22e>android:textSize=</span><span style=color:#e6db74>&#34;20sp&#34;</span>
            <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/textView&#34;</span><span style=color:#f92672>/&gt;</span>

    <span style=color:#f92672>&lt;TextView</span>
            <span style=color:#a6e22e>android:layout_marginTop=</span><span style=color:#e6db74>&#34;20dp&#34;</span>
            <span style=color:#a6e22e>android:layout_alignParentStart=</span><span style=color:#e6db74>&#34;true&#34;</span>
            <span style=color:#a6e22e>android:layout_below=</span><span style=color:#e6db74>&#34;@+id/textView&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>
            <span style=color:#a6e22e>android:text=</span><span style=color:#e6db74>&#34;密    码：&#34;</span>
            <span style=color:#a6e22e>android:textSize=</span><span style=color:#e6db74>&#34;20sp&#34;</span>
            <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/textView2&#34;</span><span style=color:#f92672>/&gt;</span>

    <span style=color:#f92672>&lt;EditText</span>
            <span style=color:#a6e22e>android:inputType=</span><span style=color:#e6db74>&#34;text&#34;</span>
            <span style=color:#a6e22e>android:textSize=</span><span style=color:#e6db74>&#34;20sp&#34;</span>
            <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/editText&#34;</span>
            <span style=color:#a6e22e>android:layout_alignBottom=</span><span style=color:#e6db74>&#34;@+id/textView&#34;</span>
            <span style=color:#a6e22e>android:layout_toEndOf=</span><span style=color:#e6db74>&#34;@+id/textView&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span><span style=color:#f92672>/&gt;</span>

    <span style=color:#f92672>&lt;EditText</span>
            <span style=color:#a6e22e>android:inputType=</span><span style=color:#e6db74>&#34;textPassword&#34;</span>
            <span style=color:#a6e22e>android:textSize=</span><span style=color:#e6db74>&#34;20sp&#34;</span>
            <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/editText2&#34;</span>
            <span style=color:#a6e22e>android:layout_alignBottom=</span><span style=color:#e6db74>&#34;@+id/textView2&#34;</span>
            <span style=color:#a6e22e>android:layout_toEndOf=</span><span style=color:#e6db74>&#34;@+id/textView2&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span><span style=color:#f92672>/&gt;</span>

    <span style=color:#f92672>&lt;CheckBox</span>
            <span style=color:#a6e22e>android:checked=</span><span style=color:#e6db74>&#34;false&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>
            <span style=color:#a6e22e>android:layout_below=</span><span style=color:#e6db74>&#34;@+id/textView2&#34;</span>
            <span style=color:#a6e22e>android:layout_alignParentStart=</span><span style=color:#e6db74>&#34;true&#34;</span>
            <span style=color:#a6e22e>android:layout_marginTop=</span><span style=color:#e6db74>&#34;20dp&#34;</span>
            <span style=color:#a6e22e>android:text=</span><span style=color:#e6db74>&#34;保存用户名&#34;</span>
            <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/checkBox&#34;</span><span style=color:#f92672>/&gt;</span>

    <span style=color:#f92672>&lt;LinearLayout</span>
            <span style=color:#a6e22e>android:orientation=</span><span style=color:#e6db74>&#34;horizontal&#34;</span>
            <span style=color:#a6e22e>android:layout_below=</span><span style=color:#e6db74>&#34;@+id/checkBox&#34;</span>
            <span style=color:#a6e22e>android:layout_alignParentStart=</span><span style=color:#e6db74>&#34;true&#34;</span>
            <span style=color:#a6e22e>android:layout_marginTop=</span><span style=color:#e6db74>&#34;20dp&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span><span style=color:#f92672>&gt;</span>
        <span style=color:#f92672>&lt;Button</span>
                <span style=color:#a6e22e>android:onClick=</span><span style=color:#e6db74>&#34;onClick&#34;</span>
                <span style=color:#a6e22e>android:layout_weight=</span><span style=color:#e6db74>&#34;1&#34;</span>
                <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;0dp&#34;</span>
                <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
                <span style=color:#a6e22e>android:text=</span><span style=color:#e6db74>&#34;登录&#34;</span>
                <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/button&#34;</span><span style=color:#f92672>/&gt;</span>
        <span style=color:#f92672>&lt;Button</span>
                <span style=color:#a6e22e>android:onClick=</span><span style=color:#e6db74>&#34;onClick&#34;</span>
                <span style=color:#a6e22e>android:layout_weight=</span><span style=color:#e6db74>&#34;1&#34;</span>
                <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;0dp&#34;</span>
                <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
                <span style=color:#a6e22e>android:text=</span><span style=color:#e6db74>&#34;退出&#34;</span>
                <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/button2&#34;</span><span style=color:#f92672>/&gt;</span>
    <span style=color:#f92672>&lt;/LinearLayout&gt;</span>

<span style=color:#f92672>&lt;/RelativeLayout&gt;</span>
</code></pre></div><h2 id=sqlite>SQLite</h2><p>一种轻量级的数据库，无需依赖，无需配置，无需安装，所有数据都存储在一个文件当中。</p><p>( NULL (空值)、INTEGER (整形)、REAL (浮点型)、TEXT (字符串)、BLOB (二进制) )</p><ul><li>SQLiteDatabase：操作数据库的类。<ul><li>原生 SQL 语句方法：execSQL、rawQuery。</li><li>执行 SDK 封装方法：insert、delete、update、query。</li></ul></li><li>SQLiteOpenHelper：管理数据库的类。<ul><li>onCreate：创建数据库时调用。</li><li>onUpgrade：更新数据库时调用。</li><li>getWritableDatabase：以读写方式打开数据库。</li><li>getReadableDatabase：以只读方式打开数据库。（假）</li></ul></li></ul><h3 id=mainactivityjava-1>MainActivity.java</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> <span style=color:#66d9ef>extends</span> Activity <span style=color:#f92672>{</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@Nullable</span> Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>
        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>main_activity</span><span style=color:#f92672>);</span>

        SQLiteDatabase db <span style=color:#f92672>=</span> openOrCreateDatabase<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;123.db&#34;</span><span style=color:#f92672>,</span> MODE_PRIVATE<span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>);</span>     直接新建或打开已存在数据库
        <span style=color:#f92672>----</span>
        SQLiteDatabase db <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MySQLiteOpenHelper<span style=color:#f92672>(</span>MainActivity<span style=color:#f92672>.</span><span style=color:#a6e22e>this</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;123.db&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> 1<span style=color:#f92672>).</span><span style=color:#a6e22e>getWritableDatabase</span><span style=color:#f92672>();</span>     通过 OpenHelper 新建数据库并初始化表

        <span style=color:#a6e22e>A</span><span style=color:#f92672>(</span>db<span style=color:#f92672>);</span>     SQL 语句
        <span style=color:#a6e22e>B</span><span style=color:#f92672>(</span>db<span style=color:#f92672>);</span>     SDK 封装

        db<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>A</span><span style=color:#f92672>(</span>SQLiteDatabase db<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        db<span style=color:#f92672>.</span><span style=color:#a6e22e>beginTransaction</span><span style=color:#f92672>();</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 5<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
            db<span style=color:#f92672>.</span><span style=color:#a6e22e>execSQL</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;insert into usertb(name,age) values(?,?)&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> Object<span style=color:#f92672>[]{</span><span style=color:#e6db74>&#34;王五&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;26&#34;</span><span style=color:#f92672>});</span>     增
        <span style=color:#f92672>}</span>
        db<span style=color:#f92672>.</span><span style=color:#a6e22e>setTransactionSuccessful</span><span style=color:#f92672>();</span>
        db<span style=color:#f92672>.</span><span style=color:#a6e22e>endTransaction</span><span style=color:#f92672>();</span>

        db<span style=color:#f92672>.</span><span style=color:#a6e22e>execSQL</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;delete from usertb where _id &gt; ?&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> Object<span style=color:#f92672>[]{</span><span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>});</span>     删

        db<span style=color:#f92672>.</span><span style=color:#a6e22e>execSQL</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;update usertb set name = ? , age = ? where _id = ?&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> Object<span style=color:#f92672>[]{</span><span style=color:#e6db74>&#34;李四&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;28&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>});</span>     改

        Cursor cursor <span style=color:#f92672>=</span> db<span style=color:#f92672>.</span><span style=color:#a6e22e>rawQuery</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;select * from usertb where name = ? order by _id desc&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>[]{</span><span style=color:#e6db74>&#34;王五&#34;</span><span style=color:#f92672>});</span>     查
        <span style=color:#a6e22e>Show</span><span style=color:#f92672>(</span>cursor<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>B</span><span style=color:#f92672>(</span>SQLiteDatabase db<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        ContentValues contentValues <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ContentValues<span style=color:#f92672>();</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 5<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
            contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>clear</span><span style=color:#f92672>();</span>
            contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>put</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;name&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;王五&#34;</span><span style=color:#f92672>);</span>
            contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>put</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;age&#34;</span><span style=color:#f92672>,</span> 26<span style=color:#f92672>);</span>
            db<span style=color:#f92672>.</span><span style=color:#a6e22e>insert</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;usertb&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> contentValues<span style=color:#f92672>);</span>     增
        <span style=color:#f92672>}</span>

        db<span style=color:#f92672>.</span><span style=color:#a6e22e>delete</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;usertb&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;name like ?&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>[]{</span><span style=color:#e6db74>&#34;%四%&#34;</span><span style=color:#f92672>});</span>     删

        contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>clear</span><span style=color:#f92672>();</span>
        contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>put</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;age&#34;</span><span style=color:#f92672>,</span> 5<span style=color:#f92672>);</span>
        db<span style=color:#f92672>.</span><span style=color:#a6e22e>update</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;usertb&#34;</span><span style=color:#f92672>,</span> contentValues<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;name = ?&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>[]{</span><span style=color:#e6db74>&#34;王五&#34;</span><span style=color:#f92672>});</span>     改

        Cursor cursor <span style=color:#f92672>=</span> db<span style=color:#f92672>.</span><span style=color:#a6e22e>query</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;usertb&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;_id &gt; ?&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>[]{</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>},</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;age&#34;</span><span style=color:#f92672>);</span>     查
        <span style=color:#a6e22e>Show</span><span style=color:#f92672>(</span>cursor<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>Show</span><span style=color:#f92672>(</span>Cursor cursor<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#75715e>/*方案一*/</span>
<span style=color:#75715e>//        while (cursor.moveToNext()) {     行
</span><span style=color:#75715e>////            int id = cursor.getInt(0);     列
</span><span style=color:#75715e>////            String name = cursor.getString(1);
</span><span style=color:#75715e>////            int age = cursor.getInt(2);
</span><span style=color:#75715e>//            int id = cursor.getInt(cursor.getColumnIndex(&#34;_id&#34;));
</span><span style=color:#75715e>//            String name = cursor.getString(cursor.getColumnIndex(&#34;name&#34;));
</span><span style=color:#75715e>//            int age = cursor.getInt(cursor.getColumnIndex(&#34;age&#34;));
</span><span style=color:#75715e>//            Log.i(&#34;Tag&#34;, id + &#34;::&#34; + name + &#34;::&#34; + age);
</span><span style=color:#75715e>//        }
</span><span style=color:#75715e>//        cursor.close();
</span><span style=color:#75715e></span>
        <span style=color:#75715e>/*方案二*/</span>
        String<span style=color:#f92672>[]</span> columnNames <span style=color:#f92672>=</span> cursor<span style=color:#f92672>.</span><span style=color:#a6e22e>getColumnNames</span><span style=color:#f92672>();</span>
        String<span style=color:#f92672>[]</span> column <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>[</span>columnNames<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>];</span>
        <span style=color:#66d9ef>while</span> <span style=color:#f92672>(</span>cursor<span style=color:#f92672>.</span><span style=color:#a6e22e>moveToNext</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>     行
            <span style=color:#a6e22e>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> columnNames<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
                column<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> cursor<span style=color:#f92672>.</span><span style=color:#a6e22e>getString</span><span style=color:#f92672>(</span>cursor<span style=color:#f92672>.</span><span style=color:#a6e22e>getColumnIndex</span><span style=color:#f92672>(</span>columnNames<span style=color:#f92672>[</span>i<span style=color:#f92672>]));</span>     列
            <span style=color:#f92672>}</span>
            Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Tag&#34;</span><span style=color:#f92672>,</span> Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>column<span style=color:#f92672>));</span>
        <span style=color:#f92672>}</span>
        cursor<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=mysqliteopenhelperjava>MySQLiteOpenHelper.java</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MySQLiteOpenHelper</span> <span style=color:#66d9ef>extends</span> SQLiteOpenHelper <span style=color:#f92672>{</span>     继承 SQLiteOpenHelper
    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>MySQLiteOpenHelper</span><span style=color:#f92672>(</span>Context context<span style=color:#f92672>,</span> String name<span style=color:#f92672>,</span> SQLiteDatabase<span style=color:#f92672>.</span><span style=color:#a6e22e>CursorFactory</span> factory<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> version<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>super</span><span style=color:#f92672>(</span>context<span style=color:#f92672>,</span> name<span style=color:#f92672>,</span> factory<span style=color:#f92672>,</span> version<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>SQLiteDatabase db<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     创建数据库时调用
        db<span style=color:#f92672>.</span><span style=color:#a6e22e>execSQL</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;create table if not exists usertb(_id integer primary key autoincrement,name text not null,age integer not null)&#34;</span><span style=color:#f92672>);</span>
        db<span style=color:#f92672>.</span><span style=color:#a6e22e>execSQL</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;insert into usertb(name,age) values(?,?)&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> Object<span style=color:#f92672>[]{</span><span style=color:#e6db74>&#34;Admin&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>});</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onUpgrade</span><span style=color:#f92672>(</span>SQLiteDatabase db<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> oldVersion<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> newVersion<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     更新数据库时调用
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h2 id=file>File</h2><p>自定义数据文件。</p><h3 id=mainactivityjava-2>MainActivity.java</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> <span style=color:#66d9ef>extends</span> Activity <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>private</span> EditText editText<span style=color:#f92672>;</span>
    <span style=color:#66d9ef>private</span> TextView textView<span style=color:#f92672>;</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@Nullable</span> Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>
        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>main_activity</span><span style=color:#f92672>);</span>
        editText <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>EditText<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>editText</span><span style=color:#f92672>);</span>
        textView <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>TextView<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>textView</span><span style=color:#f92672>);</span>
        A<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>(</span>View view<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>switch</span> <span style=color:#f92672>(</span>view<span style=color:#f92672>.</span><span style=color:#a6e22e>getId</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>case</span> R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>button1</span><span style=color:#f92672>:</span>     保存
                String string <span style=color:#f92672>=</span> editText<span style=color:#f92672>.</span><span style=color:#a6e22e>getText</span><span style=color:#f92672>().</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>
                BufferedWriter bufferedWriter <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedWriter<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> OutputStreamWriter<span style=color:#f92672>(</span>openFileOutput<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;123.txt&#34;</span><span style=color:#f92672>,</span> MODE_APPEND<span style=color:#f92672>),</span> <span style=color:#e6db74>&#34;utf-8&#34;</span><span style=color:#f92672>));</span>
                bufferedWriter<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span>string<span style=color:#f92672>);</span>                       <span style=color:#960050;background-color:#1e0010>（</span><span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>example</span><span style=color:#f92672>.</span><span style=color:#a6e22e>system</span><span style=color:#f92672>.</span><span style=color:#a6e22e>myapplication</span><span style=color:#f92672>/</span>files<span style=color:#f92672>/</span>123<span style=color:#f92672>.</span><span style=color:#a6e22e>txt</span><span style=color:#960050;background-color:#1e0010>，</span>追加模式<span style=color:#960050;background-color:#1e0010>）</span>
                bufferedWriter<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
                <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
            <span style=color:#66d9ef>case</span> R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>button2</span><span style=color:#f92672>:</span>     读取
                StringBuilder stringBuilder <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>();</span>
                BufferedReader bufferedReader <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedReader<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> InputStreamReader<span style=color:#f92672>(</span>openFileInput<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;123.txt&#34;</span><span style=color:#f92672>),</span> <span style=color:#e6db74>&#34;utf-8&#34;</span><span style=color:#f92672>));</span>
                <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>String s<span style=color:#f92672>;</span> <span style=color:#f92672>(</span>s <span style=color:#f92672>=</span> bufferedReader<span style=color:#f92672>.</span><span style=color:#a6e22e>readLine</span><span style=color:#f92672>())</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     <span style=color:#960050;background-color:#1e0010>（</span><span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>example</span><span style=color:#f92672>.</span><span style=color:#a6e22e>system</span><span style=color:#f92672>.</span><span style=color:#a6e22e>myapplication</span><span style=color:#f92672>/</span>files<span style=color:#f92672>/</span>123<span style=color:#f92672>.</span><span style=color:#a6e22e>txt</span><span style=color:#960050;background-color:#1e0010>）</span>
                    stringBuilder<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span>s<span style=color:#f92672>);</span>
                <span style=color:#f92672>}</span>
                bufferedReader<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
                textView<span style=color:#f92672>.</span><span style=color:#a6e22e>setText</span><span style=color:#f92672>(</span>stringBuilder<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>());</span>
                <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>A</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        内部存储<span style=color:#960050;background-color:#1e0010>：</span>
        File filesDir <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getFilesDir</span><span style=color:#f92672>();</span>
        File cacheDir <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getCacheDir</span><span style=color:#f92672>();</span>
        File dir <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDir</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;123456&#34;</span><span style=color:#f92672>,</span> MODE_PRIVATE<span style=color:#f92672>);</span>
        依次为<span style=color:#960050;background-color:#1e0010>：</span>
        <span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>example</span><span style=color:#f92672>.</span><span style=color:#a6e22e>system</span><span style=color:#f92672>.</span><span style=color:#a6e22e>myapplication</span><span style=color:#f92672>/</span>files     数据目录
        <span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>example</span><span style=color:#f92672>.</span><span style=color:#a6e22e>system</span><span style=color:#f92672>.</span><span style=color:#a6e22e>myapplication</span><span style=color:#f92672>/</span>cache     缓存目录
        <span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>example</span><span style=color:#f92672>.</span><span style=color:#a6e22e>system</span><span style=color:#f92672>.</span><span style=color:#a6e22e>myapplication</span><span style=color:#f92672>/</span>app_123456

        外部存储<span style=color:#960050;background-color:#1e0010>：</span>
        File externalFilesDir <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getExternalFilesDir</span><span style=color:#f92672>(</span><span style=color:#66d9ef>null</span><span style=color:#f92672>);</span>
        File externalCacheDir <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getExternalCacheDir</span><span style=color:#f92672>();</span>
        File externalDir <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span>Environment<span style=color:#f92672>.</span><span style=color:#a6e22e>getExternalStorageDirectory</span><span style=color:#f92672>(),</span> <span style=color:#e6db74>&#34;123456&#34;</span><span style=color:#f92672>);</span>
        依次为<span style=color:#960050;background-color:#1e0010>：</span>
        <span style=color:#f92672>/</span>storage<span style=color:#f92672>/</span>sdcard0<span style=color:#f92672>/</span>Android<span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>example</span><span style=color:#f92672>.</span><span style=color:#a6e22e>system</span><span style=color:#f92672>.</span><span style=color:#a6e22e>myapplication</span><span style=color:#f92672>/</span>files     数据目录
        <span style=color:#f92672>/</span>storage<span style=color:#f92672>/</span>sdcard0<span style=color:#f92672>/</span>Android<span style=color:#f92672>/</span>data<span style=color:#f92672>/</span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>example</span><span style=color:#f92672>.</span><span style=color:#a6e22e>system</span><span style=color:#f92672>.</span><span style=color:#a6e22e>myapplication</span><span style=color:#f92672>/</span>cache     缓存目录
        <span style=color:#f92672>/</span>storage<span style=color:#f92672>/</span>sdcard0<span style=color:#f92672>/</span>123456
        操作外部存储需要权限<span style=color:#960050;background-color:#1e0010>：</span>
        <span style=color:#f92672>&lt;</span>uses<span style=color:#f92672>-</span>permission android<span style=color:#f92672>:</span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;android.permission.WRITE_EXTERNAL_STORAGE&#34;</span><span style=color:#f92672>/&gt;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=main_activityxml-1>main_activity.xml</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#f92672>&lt;LinearLayout</span> <span style=color:#a6e22e>xmlns:android=</span><span style=color:#e6db74>&#34;http://schemas.android.com/apk/res/android&#34;</span>
              <span style=color:#a6e22e>android:orientation=</span><span style=color:#e6db74>&#34;vertical&#34;</span>
              <span style=color:#a6e22e>android:padding=</span><span style=color:#e6db74>&#34;16dp&#34;</span>
              <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
              <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;match_parent&#34;</span><span style=color:#f92672>&gt;</span>
    <span style=color:#f92672>&lt;EditText</span>
            <span style=color:#a6e22e>android:gravity=</span><span style=color:#e6db74>&#34;center&#34;</span>
            <span style=color:#a6e22e>android:hint=</span><span style=color:#e6db74>&#34;输入&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>
            <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/editText&#34;</span><span style=color:#f92672>/&gt;</span>
    <span style=color:#f92672>&lt;Button</span>
            <span style=color:#a6e22e>android:onClick=</span><span style=color:#e6db74>&#34;onClick&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>
            <span style=color:#a6e22e>android:text=</span><span style=color:#e6db74>&#34;保存&#34;</span>
            <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/button1&#34;</span><span style=color:#f92672>/&gt;</span>
    <span style=color:#f92672>&lt;Button</span>
            <span style=color:#a6e22e>android:onClick=</span><span style=color:#e6db74>&#34;onClick&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>
            <span style=color:#a6e22e>android:text=</span><span style=color:#e6db74>&#34;读取&#34;</span>
            <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/button2&#34;</span><span style=color:#f92672>/&gt;</span>
    <span style=color:#f92672>&lt;TextView</span>
            <span style=color:#a6e22e>android:gravity=</span><span style=color:#e6db74>&#34;center&#34;</span>
            <span style=color:#a6e22e>android:text=</span><span style=color:#e6db74>&#34;内容&#34;</span>
            <span style=color:#a6e22e>android:textSize=</span><span style=color:#e6db74>&#34;25sp&#34;</span>
            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>
            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>
            <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/textView&#34;</span><span style=color:#f92672>/&gt;</span>
<span style=color:#f92672>&lt;/LinearLayout&gt;</span>
</code></pre></div><h2 id=contentprovider>ContentProvider</h2><p>用于实现不同应用程序之间共享数据的组件。</p><ul><li>ContentProvider：内容提供器，通过 Uri 地址给外部应用程序访问来提供数据。<code>out</code></li><li>ContentResolver：内容解析器，通过访问外部应用程序的 Uri 地址来获得数据。<code>in</code></li><li>ContentResolver 通过指定 Uri 访问 ContentProvider，调用其提供的增删改查方法。</li></ul><h3 id=mainactivityjava-3>MainActivity.java</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> android.provider.ContactsContract.CommonDataKinds.Email<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> android.provider.ContactsContract.CommonDataKinds.Phone<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> android.provider.ContactsContract.CommonDataKinds.StructuredName<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> android.provider.ContactsContract.Contacts<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> android.provider.ContactsContract.Data<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> android.provider.ContactsContract.RawContacts<span style=color:#f92672>;</span>
<span style=color:#f92672>....</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> <span style=color:#66d9ef>extends</span> Activity <span style=color:#f92672>{</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@Nullable</span> Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>
        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>main_activity</span><span style=color:#f92672>);</span>
        A<span style=color:#f92672>();</span>     查
        <span style=color:#a6e22e>B</span><span style=color:#f92672>();</span>     增
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>A</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        ContentResolver contentResolver <span style=color:#f92672>=</span> getContentResolver<span style=color:#f92672>();</span>
        查询联系人
        String<span style=color:#f92672>[]</span> column <span style=color:#f92672>=</span> <span style=color:#f92672>{</span>Contacts<span style=color:#f92672>.</span><span style=color:#a6e22e>_ID</span><span style=color:#f92672>,</span> Contacts<span style=color:#f92672>.</span><span style=color:#a6e22e>DISPLAY_NAME</span><span style=color:#f92672>,</span> Contacts<span style=color:#f92672>.</span><span style=color:#a6e22e>LAST_TIME_CONTACTED</span><span style=color:#f92672>};</span>     查询列
        Cursor cursor <span style=color:#f92672>=</span> contentResolver<span style=color:#f92672>.</span><span style=color:#a6e22e>query</span><span style=color:#f92672>(</span>Contacts<span style=color:#f92672>.</span><span style=color:#a6e22e>CONTENT_URI</span><span style=color:#f92672>,</span> column<span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> Contacts<span style=color:#f92672>.</span><span style=color:#a6e22e>_ID</span><span style=color:#f92672>);</span>
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>cursor <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            Show<span style=color:#f92672>(</span>cursor<span style=color:#f92672>);</span>     解析游标
        <span style=color:#f92672>}</span>
        查询电话本
        String<span style=color:#f92672>[]</span> column <span style=color:#f92672>=</span> <span style=color:#f92672>{</span>Phone<span style=color:#f92672>.</span><span style=color:#a6e22e>_ID</span><span style=color:#f92672>,</span> Phone<span style=color:#f92672>.</span><span style=color:#a6e22e>DISPLAY_NAME</span><span style=color:#f92672>,</span> Phone<span style=color:#f92672>.</span><span style=color:#a6e22e>NUMBER</span><span style=color:#f92672>};</span>     查询列
        Cursor cursor <span style=color:#f92672>=</span> contentResolver<span style=color:#f92672>.</span><span style=color:#a6e22e>query</span><span style=color:#f92672>(</span>Phone<span style=color:#f92672>.</span><span style=color:#a6e22e>CONTENT_URI</span><span style=color:#f92672>,</span> column<span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> Phone<span style=color:#f92672>.</span><span style=color:#a6e22e>_ID</span><span style=color:#f92672>);</span>
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>cursor <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            Show<span style=color:#f92672>(</span>cursor<span style=color:#f92672>);</span>     解析游标
        <span style=color:#f92672>}</span>
        查询邮箱
        String<span style=color:#f92672>[]</span> column <span style=color:#f92672>=</span> <span style=color:#f92672>{</span>Email<span style=color:#f92672>.</span><span style=color:#a6e22e>_ID</span><span style=color:#f92672>,</span> Email<span style=color:#f92672>.</span><span style=color:#a6e22e>NAME_RAW_CONTACT_ID</span><span style=color:#f92672>,</span> Email<span style=color:#f92672>.</span><span style=color:#a6e22e>DATA</span><span style=color:#f92672>};</span>     查询列
        Cursor cursor <span style=color:#f92672>=</span> contentResolver<span style=color:#f92672>.</span><span style=color:#a6e22e>query</span><span style=color:#f92672>(</span>Email<span style=color:#f92672>.</span><span style=color:#a6e22e>CONTENT_URI</span><span style=color:#f92672>,</span> column<span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> Email<span style=color:#f92672>.</span><span style=color:#a6e22e>_ID</span><span style=color:#f92672>);</span>
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>cursor <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            Show<span style=color:#f92672>(</span>cursor<span style=color:#f92672>);</span>     解析游标
        <span style=color:#f92672>}</span>
        需要权限<span style=color:#960050;background-color:#1e0010>：</span>
        <span style=color:#f92672>&lt;</span>uses<span style=color:#f92672>-</span>permission android<span style=color:#f92672>:</span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;android.permission.READ_CONTACTS&#34;</span><span style=color:#f92672>/&gt;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>B</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        ContentResolver contentResolver <span style=color:#f92672>=</span> getContentResolver<span style=color:#f92672>();</span>
        新建联系人
        Uri insert <span style=color:#f92672>=</span> contentResolver<span style=color:#f92672>.</span><span style=color:#a6e22e>insert</span><span style=color:#f92672>(</span>RawContacts<span style=color:#f92672>.</span><span style=color:#a6e22e>CONTENT_URI</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> ContentValues<span style=color:#f92672>());</span>
        <span style=color:#66d9ef>long</span> parseId <span style=color:#f92672>=</span> ContentUris<span style=color:#f92672>.</span><span style=color:#a6e22e>parseId</span><span style=color:#f92672>(</span>insert<span style=color:#f92672>);</span>     获得在表中的 ID
        插入姓名
        ContentValues contentValues <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ContentValues<span style=color:#f92672>();</span>
        contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>put</span><span style=color:#f92672>(</span>StructuredName<span style=color:#f92672>.</span><span style=color:#a6e22e>RAW_CONTACT_ID</span><span style=color:#f92672>,</span> parseId<span style=color:#f92672>);</span>     ID
        contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>put</span><span style=color:#f92672>(</span>StructuredName<span style=color:#f92672>.</span><span style=color:#a6e22e>DISPLAY_NAME</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;TEST&#34;</span><span style=color:#f92672>);</span>     姓名
        contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>put</span><span style=color:#f92672>(</span>StructuredName<span style=color:#f92672>.</span><span style=color:#a6e22e>MIMETYPE</span><span style=color:#f92672>,</span> StructuredName<span style=color:#f92672>.</span><span style=color:#a6e22e>CONTENT_ITEM_TYPE</span><span style=color:#f92672>);</span>     类型为姓名
        contentResolver<span style=color:#f92672>.</span><span style=color:#a6e22e>insert</span><span style=color:#f92672>(</span>Data<span style=color:#f92672>.</span><span style=color:#a6e22e>CONTENT_URI</span><span style=color:#f92672>,</span> contentValues<span style=color:#f92672>);</span>
        插入电话
        contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>clear</span><span style=color:#f92672>();</span>
        contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>put</span><span style=color:#f92672>(</span>Phone<span style=color:#f92672>.</span><span style=color:#a6e22e>RAW_CONTACT_ID</span><span style=color:#f92672>,</span> parseId<span style=color:#f92672>);</span>     ID
        contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>put</span><span style=color:#f92672>(</span>Phone<span style=color:#f92672>.</span><span style=color:#a6e22e>NUMBER</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;123456&#34;</span><span style=color:#f92672>);</span>     电话
        contentValues<span style=color:#f92672>.</span><span style=color:#a6e22e>put</span><span style=color:#f92672>(</span>Phone<span style=color:#f92672>.</span><span style=color:#a6e22e>MIMETYPE</span><span style=color:#f92672>,</span> Phone<span style=color:#f92672>.</span><span style=color:#a6e22e>CONTENT_ITEM_TYPE</span><span style=color:#f92672>);</span>     类型为电话
        contentResolver<span style=color:#f92672>.</span><span style=color:#a6e22e>insert</span><span style=color:#f92672>(</span>Data<span style=color:#f92672>.</span><span style=color:#a6e22e>CONTENT_URI</span><span style=color:#f92672>,</span> contentValues<span style=color:#f92672>);</span>
        需要权限<span style=color:#960050;background-color:#1e0010>：</span>
        <span style=color:#f92672>&lt;</span>uses<span style=color:#f92672>-</span>permission android<span style=color:#f92672>:</span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;android.permission.READ_CONTACTS&#34;</span><span style=color:#f92672>/&gt;</span>
        <span style=color:#f92672>&lt;</span>uses<span style=color:#f92672>-</span>permission android<span style=color:#f92672>:</span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;android.permission.WRITE_CONTACTS&#34;</span><span style=color:#f92672>/&gt;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>Show</span><span style=color:#f92672>(</span>Cursor cursor<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        String<span style=color:#f92672>[]</span> columnNames <span style=color:#f92672>=</span> cursor<span style=color:#f92672>.</span><span style=color:#a6e22e>getColumnNames</span><span style=color:#f92672>();</span>
        String<span style=color:#f92672>[]</span> column <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>[</span>columnNames<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>];</span>
        <span style=color:#66d9ef>while</span> <span style=color:#f92672>(</span>cursor<span style=color:#f92672>.</span><span style=color:#a6e22e>moveToNext</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>     行
            <span style=color:#a6e22e>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> columnNames<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
                column<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> cursor<span style=color:#f92672>.</span><span style=color:#a6e22e>getString</span><span style=color:#f92672>(</span>cursor<span style=color:#f92672>.</span><span style=color:#a6e22e>getColumnIndex</span><span style=color:#f92672>(</span>columnNames<span style=color:#f92672>[</span>i<span style=color:#f92672>]));</span>     列
            <span style=color:#f92672>}</span>
            Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Tag&#34;</span><span style=color:#f92672>,</span> Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>column<span style=color:#f92672>));</span>
        <span style=color:#f92672>}</span>
        cursor<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=mycontentproviderjava>MyContentProvider.java</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyContentProvider</span> <span style=color:#66d9ef>extends</span> ContentProvider <span style=color:#f92672>{</span>     继承 ContentProvider
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>     初始化操作<span style=color:#960050;background-color:#1e0010>，</span>应用启动时调用<span style=color:#960050;background-color:#1e0010>，</span>不应包含耗时操作
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Nullable</span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getType</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@NonNull</span> Uri uri<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     返回 Uri 的 MIME 类型
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>     <span style=color:#960050;background-color:#1e0010>（</span>单条数据以 vnd<span style=color:#f92672>.</span><span style=color:#a6e22e>android</span><span style=color:#f92672>.</span><span style=color:#a6e22e>cursor</span><span style=color:#f92672>.</span><span style=color:#a6e22e>item</span><span style=color:#f92672>/</span> 开头<span style=color:#960050;background-color:#1e0010>）</span>
    <span style=color:#f92672>}</span>                          <span style=color:#960050;background-color:#1e0010>（</span>多条数据以 vnd<span style=color:#f92672>.</span><span style=color:#a6e22e>android</span><span style=color:#f92672>.</span><span style=color:#a6e22e>cursor</span><span style=color:#f92672>.</span><span style=color:#a6e22e>dir</span><span style=color:#f92672>/</span> 开头<span style=color:#960050;background-color:#1e0010>）</span>

    <span style=color:#a6e22e>@Nullable</span>
    <span style=color:#a6e22e>@Override</span>     增
    <span style=color:#66d9ef>public</span> Uri <span style=color:#a6e22e>insert</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@NonNull</span> Uri uri<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> ContentValues values<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>     删
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>delete</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@NonNull</span> Uri uri<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> String selection<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> String<span style=color:#f92672>[]</span> selectionArgs<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> 0<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>     改
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>update</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@NonNull</span> Uri uri<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> ContentValues values<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> String selection<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> String<span style=color:#f92672>[]</span> selectionArgs<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> 0<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Nullable</span>
    <span style=color:#a6e22e>@Override</span>     查<span style=color:#960050;background-color:#1e0010>（</span>一般只需实现查询功能<span style=color:#960050;background-color:#1e0010>，</span>也就是只给外部提供查询功能<span style=color:#960050;background-color:#1e0010>）</span>
    <span style=color:#66d9ef>public</span> Cursor <span style=color:#a6e22e>query</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@NonNull</span> Uri uri<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> String<span style=color:#f92672>[]</span> projection<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> String selection<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> String<span style=color:#f92672>[]</span> selectionArgs<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> String sortOrder<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

AndroidManifest<span style=color:#f92672>.</span><span style=color:#a6e22e>xml</span>
<span style=color:#960050;background-color:#1e0010>⇳</span>
<span style=color:#f92672>&lt;</span>application

    其余组件

    <span style=color:#f92672>&lt;</span>provider
            android<span style=color:#f92672>:</span>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;com.example.system.myapplication.MyContentProvider&#34;</span>
            android<span style=color:#f92672>:</span>authorities<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;内容提供器&#34;</span><span style=color:#f92672>&gt;</span>
    <span style=color:#f92672>&lt;/</span>provider<span style=color:#f92672>&gt;</span>
<span style=color:#f92672>&lt;/</span>application<span style=color:#f92672>&gt;</span>
</code></pre></div></div><div class=sharing style=text-align:center><br><p>捐赠支持</p><p>如果我的文章对你有所帮助，欢迎通过支付宝的扫一扫，轻松的向我发起捐助。</p><p>对于你的支持，我会心怀感激且倍感荣幸地接受，并继续努力。</p><img src=https://ww4.sinaimg.cn/large/a15b4afegw1fbn096ql6dj20dw0dwwe9.jpg alt title data-action=zoom width=40%><p></p><br>&copy; 2015-2020 XhstormR</div></div></div></div><div id=backtop><a href=# title>TOP</a></div><nav id=TableOfContents><ul><li><a href=#sharedpreferences>SharedPreferences</a><ul><li><a href=#mainactivityjava>MainActivity.java</a></li><li><a href=#main_activityxml>main_activity.xml</a></li></ul></li><li><a href=#sqlite>SQLite</a><ul><li><a href=#mainactivityjava-1>MainActivity.java</a></li><li><a href=#mysqliteopenhelperjava>MySQLiteOpenHelper.java</a></li></ul></li><li><a href=#file>File</a><ul><li><a href=#mainactivityjava-2>MainActivity.java</a></li><li><a href=#main_activityxml-1>main_activity.xml</a></li></ul></li><li><a href=#contentprovider>ContentProvider</a><ul><li><a href=#mainactivityjava-3>MainActivity.java</a></li><li><a href=#mycontentproviderjava>MyContentProvider.java</a></li></ul></li></ul></nav><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/yaml.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/kotlin.min.js></script><script>hljs.initHighlightingOnLoad()</script><script src=https://blog.xhstormr.tk/js/zoom.min.js></script><script>window.addEventListener("load",show),window.onscroll=show;function show(){document.documentElement.scrollTop+document.body.scrollTop>300?document.getElementById("backtop").style.display="block":document.getElementById("backtop").style.display="none"}</script><script type=text/javascript color=0,0,0 opacity=1 zindex=-2 count=49 src=https://cdnjs.cloudflare.com/ajax/libs/canvas-nest.js/2.0.4/canvas-nest.js></script></body></html>