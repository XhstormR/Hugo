<!doctype html><html lang=zh-cn manifest=https://blog.xhstormr.tk/offline.appcache><head><meta charset=utf-8><meta name=renderer content="webkit"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Java IO Stream &#183; XhstormR</title><link rel=alternate type=application/rss+xml title=XhstormR href><link rel=icon type=image/x-icon href=https://blog.xhstormr.tk/favicon.ico><link rel=stylesheet href=https://blog.xhstormr.tk/css/uno.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/monokai-sublime.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js></script><script src=https://blog.xhstormr.tk/js/main.min.js async defer></script></head><body><div id=scriptHeader><span class="mobile btn-mobile-menu"><i class="fa fa-bars btn-mobile-menu__icon"></i>
<i class="fa fa-times btn-mobile-close__icon hidden"></i></span><header class="panel-cover panel-cover--collapsed"><div class=panel-main><div class="panel-main__inner panel-inverted"><div class=panel-main__content><h1 class="panel-cover__title panel-title"><a href=https://blog.xhstormr.tk/ title="link to homepage for XhstormR">XhstormR</a></h1><hr class=panel-cover__divider><p class=panel-cover__description>On a dark desert highway, cool wind in my hair.</p><hr class="panel-cover__divider panel-cover__divider--secondary"><div class=navigation-wrapper><nav class="cover-navigation cover-navigation--primary"><ul class=navigation><li class=navigation__item><a href=https://blog.xhstormr.tk#blog title="link to XhstormR blog" class=blog-button>Blog</a></li></ul></nav></div></div></div><div class=panel-cover--overlay></div></div></header></div><div class=bodytop><div class=content-wrapper><div class=content-wrapper__inner><div class=post><h1>Java IO Stream</h1><span class=post-date>2016-09-06</span><p>Updated on 2016-11-11</p><blockquote><p><a href=/uploads/java-io.svg><p style=text-align:center><img data-src=/uploads/java-io.svg alt title="IO 流" width></p><script>[].forEach.call(document.querySelectorAll("img[data-src]"),function(a){a.setAttribute("src",a.getAttribute("data-src")),a.onload=function(){a.removeAttribute("data-src")}})</script></a></p><p><a href=https://docs.oracle.com/javase/10/docs/api/java/nio/file/Path.html>https://docs.oracle.com/javase/10/docs/api/java/nio/file/Path.html</a></p><p><a href=https://docs.oracle.com/javase/10/docs/api/java/nio/file/Files.html>https://docs.oracle.com/javase/10/docs/api/java/nio/file/Files.html</a></p></blockquote><h2 id=file>File</h2><p>用于代表文件(夹)，是文件(夹)的抽象化形式，不能用于对文件内容的访问。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>File file <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:\\123&#34;</span><span style=color:#f92672>);</span>     <span style=color:#960050;background-color:#1e0010>\</span> 是转义字符
File file <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/123&#34;</span><span style=color:#f92672>);</span>
File file <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;123&#34;</span><span style=color:#f92672>);</span>
File file <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:&#34;</span> <span style=color:#f92672>+</span> File<span style=color:#f92672>.</span><span style=color:#a6e22e>separator</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;123&#34;</span><span style=color:#f92672>);</span>

file<span style=color:#f92672>.</span><span style=color:#a6e22e>createNewFile</span><span style=color:#f92672>();</span>     创建为文件
file<span style=color:#f92672>.</span><span style=color:#a6e22e>mkdir</span><span style=color:#f92672>();</span>     创建为文件夹
file<span style=color:#f92672>.</span><span style=color:#a6e22e>mkdirs</span><span style=color:#f92672>();</span>     递归创建文件夹

file<span style=color:#f92672>.</span><span style=color:#a6e22e>delete</span><span style=color:#f92672>();</span>     删除文件<span style=color:#f92672>(</span>夹<span style=color:#f92672>)</span>
file<span style=color:#f92672>.</span><span style=color:#a6e22e>deleteOnExit</span><span style=color:#f92672>();</span>     退出虚拟机时删除文件<span style=color:#f92672>(</span>夹<span style=color:#f92672>)</span>

file<span style=color:#f92672>.</span><span style=color:#a6e22e>exists</span><span style=color:#f92672>();</span>     判断文件<span style=color:#f92672>(</span>夹<span style=color:#f92672>)</span>是否存在
file<span style=color:#f92672>.</span><span style=color:#a6e22e>isFile</span><span style=color:#f92672>();</span>     判断是否为文件<span style=color:#960050;background-color:#1e0010>（</span>不存在返回 <span style=color:#66d9ef>false</span><span style=color:#960050;background-color:#1e0010>）</span>
file<span style=color:#f92672>.</span><span style=color:#a6e22e>isDirectory</span><span style=color:#f92672>();</span>     判断是否为文件夹<span style=color:#960050;background-color:#1e0010>（</span>不存在返回 <span style=color:#66d9ef>false</span><span style=color:#960050;background-color:#1e0010>）</span>

file<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>();</span>     获得文件大小<span style=color:#960050;background-color:#1e0010>，</span>以字节为单位
file<span style=color:#f92672>.</span><span style=color:#a6e22e>list</span><span style=color:#f92672>();</span>     获得文件夹下的文件<span style=color:#f92672>(</span>夹<span style=color:#f92672>)</span>名称<span style=color:#960050;background-color:#1e0010>，</span>返回 String 数组<span style=color:#960050;background-color:#1e0010>（</span>不是文件夹返回 <span style=color:#66d9ef>null</span><span style=color:#960050;background-color:#1e0010>）</span>
file<span style=color:#f92672>.</span><span style=color:#a6e22e>listFiles</span><span style=color:#f92672>();</span>     获得文件夹下的文件<span style=color:#f92672>(</span>夹<span style=color:#f92672>)</span>抽象<span style=color:#960050;background-color:#1e0010>，</span>返回 File 数组<span style=color:#960050;background-color:#1e0010>（</span>不是文件夹返回 <span style=color:#66d9ef>null</span><span style=color:#960050;background-color:#1e0010>）</span>
file<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>();</span>     获得文件<span style=color:#f92672>(</span>夹<span style=color:#f92672>)</span>名称<span style=color:#960050;background-color:#1e0010>，</span>123
file<span style=color:#f92672>.</span><span style=color:#a6e22e>getParent</span><span style=color:#f92672>();</span>     获得父路径<span style=color:#960050;background-color:#1e0010>，</span>D<span style=color:#f92672>:</span><span style=color:#960050;background-color:#1e0010>\</span>
file<span style=color:#f92672>.</span><span style=color:#a6e22e>getAbsolutePath</span><span style=color:#f92672>();</span>     获得文件<span style=color:#f92672>(</span>夹<span style=color:#f92672>)</span>的绝对路径<span style=color:#960050;background-color:#1e0010>，</span>D<span style=color:#f92672>:</span><span style=color:#960050;background-color:#1e0010>\</span>123
file<span style=color:#f92672>.</span><span style=color:#a6e22e>getCanonicalPath</span><span style=color:#f92672>();</span>     获得文件<span style=color:#f92672>(</span>夹<span style=color:#f92672>)</span>的绝对路径<span style=color:#960050;background-color:#1e0010>（</span>规范后<span style=color:#960050;background-color:#1e0010>）</span>

1 B <span style=color:#f92672>=</span> 8 bit
1 KB <span style=color:#f92672>=</span> 1024 B
1 MB <span style=color:#f92672>=</span> 1024 KB
1 GB <span style=color:#f92672>=</span> 1024 MB
</code></pre></div><h2 id=randomaccessfile>RandomAccessFile</h2><p>用于对文件内容的访问，可读可写，可以访问文件的任意位置（任意字节）。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span>
        File file <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;123.dat&#34;</span><span style=color:#f92672>);</span>
        RandomAccessFile randomAccessFile <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> RandomAccessFile<span style=color:#f92672>(</span>file<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;rw&#34;</span><span style=color:#f92672>);</span>     <span style=color:#960050;background-color:#1e0010>（</span>文件<span style=color:#f92672>,</span>模式<span style=color:#960050;background-color:#1e0010>）</span>rw<span style=color:#960050;background-color:#1e0010>：</span>读写<span style=color:#960050;background-color:#1e0010>；</span>r<span style=color:#960050;background-color:#1e0010>：</span>只读
        打开文件时指针在开头 Pointer <span style=color:#f92672>=</span> 0

        开始写入
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;好A1&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getBytes</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;utf8&#34;</span><span style=color:#f92672>);</span>     使用指定字符集 编码 为字节数组
        randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>);</span>     将字节数组写入
        randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>seek</span><span style=color:#f92672>(</span>8<span style=color:#f92672>);</span>     移动指针
        randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>);</span>     将字节数组写入

        开始读取
        randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>seek</span><span style=color:#f92672>(</span>0<span style=color:#f92672>);</span>     移动指针
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()];</span>
        randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>read</span><span style=color:#f92672>(</span>bytes2<span style=color:#f92672>);</span>     将文件内容一次性读取至字节数组中
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span>bytes2<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;utf8&#34;</span><span style=color:#f92672>));</span>     使用指定字符集 解码 为字符串

        <span style=color:#a6e22e>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span> b <span style=color:#f92672>:</span> bytes2<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>toHexString</span><span style=color:#f92672>(</span>b <span style=color:#f92672>&amp;</span> 0xff<span style=color:#f92672>)</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\t&#34;</span><span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;\n&#34;</span> <span style=color:#f92672>+</span> randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>getFilePointer</span><span style=color:#f92672>()</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;,&#34;</span> <span style=color:#f92672>+</span> randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;,&#34;</span> <span style=color:#f92672>+</span> bytes2<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>);</span>     指针位置<span style=color:#960050;background-color:#1e0010>，</span>文件大小<span style=color:#960050;background-color:#1e0010>，</span>数组长度

        randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;A&#39;</span><span style=color:#f92672>);</span>     写一个字节<span style=color:#960050;background-color:#1e0010>，</span>指针移至下一位置<span style=color:#960050;background-color:#1e0010>（</span>Char 为 2 字节<span style=color:#960050;background-color:#1e0010>，</span>所以只会写入 Char 的低 8 位<span style=color:#960050;background-color:#1e0010>）</span>
        <span style=color:#66d9ef>int</span> read <span style=color:#f92672>=</span> randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>read</span><span style=color:#f92672>();</span>     读一个字节<span style=color:#960050;background-color:#1e0010>，</span>指针移至下一位置<span style=color:#960050;background-color:#1e0010>（</span>填充至 Int 的低 8 位<span style=color:#960050;background-color:#1e0010>）</span>

        randomAccessFile<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>     关闭流
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
好A1   好A1
e5	a5	bd	41	31	0	0	0	e5	a5	bd	41	31
13<span style=color:#f92672>,</span>13<span style=color:#f92672>,</span>13
</code></pre></div><h2 id=对象的序列化和反序列化>对象的序列化和反序列化</h2><ul><li>一序列化：Object ➜ Byte 序列&mdash;&ndash;ObjectOutputStream.writeObject</li><li>反序列化：Byte 序列 ➜ Object&mdash;&ndash;ObjectInputStream.readObject</li><li>对象所属的类必须实现序列化接口（Serializable），才能够被序列化。<ul><li>如果所属的类的父类已实现序列化接口，则子类便不需要再实现序列化接口。</li><li>如果所属的类的父类没有没有实现序列化接口，其父类的构造函数会被调用。</li></ul></li></ul><h2 id=code>Code</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> UnsupportedEncodingException <span style=color:#f92672>{</span>
        String str <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;好A1&#34;</span><span style=color:#f92672>;</span>
        encode<span style=color:#f92672>(</span>str<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;gbk&#34;</span><span style=color:#f92672>);</span>     汉字 2 字节<span style=color:#960050;background-color:#1e0010>，</span>字母和数字 1 字节
        <span style=color:#a6e22e>encode</span><span style=color:#f92672>(</span>str<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;utf-8&#34;</span><span style=color:#f92672>);</span>     汉字 3 字节<span style=color:#960050;background-color:#1e0010>，</span>字母和数字 1 字节
        <span style=color:#a6e22e>encode</span><span style=color:#f92672>(</span>str<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;utf-16be&#34;</span><span style=color:#f92672>);</span>     汉字 2 字节<span style=color:#960050;background-color:#1e0010>，</span>字母和数字 2 字节

        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;你好&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getBytes</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;gbk&#34;</span><span style=color:#f92672>);</span>     使用指定字符集 编码 为字节数组
        String string <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span>bytes<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;gbk&#34;</span><span style=color:#f92672>);</span>     使用指定字符集 解码 为字符串
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>encode</span><span style=color:#f92672>(</span>String str<span style=color:#f92672>,</span> String encode<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> UnsupportedEncodingException <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes <span style=color:#f92672>=</span> str<span style=color:#f92672>.</span><span style=color:#a6e22e>getBytes</span><span style=color:#f92672>(</span>encode<span style=color:#f92672>);</span>     使用指定字符集 编码 为字节数组
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>);</span>     数组长度
        <span style=color:#a6e22e>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span> b <span style=color:#f92672>:</span> bytes<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>toHexString</span><span style=color:#f92672>(</span>b <span style=color:#f92672>&amp;</span> 0xff<span style=color:#f92672>)</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\t&#34;</span><span style=color:#f92672>);</span>     <span style=color:#66d9ef>byte</span> <span style=color:#960050;background-color:#1e0010>➜</span> <span style=color:#66d9ef>int</span> <span style=color:#960050;background-color:#1e0010>➜</span> 将前 24 个 1 清零 <span style=color:#960050;background-color:#1e0010>➜</span> 以 16 进制显示
        <span style=color:#f92672>}</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

Tips<span style=color:#960050;background-color:#1e0010>：</span>文件的实质就是字节序列<span style=color:#960050;background-color:#1e0010>。</span>
<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
4
ba	c3	41	31
5
e5	a5	bd	41	31
6
59	7d	0	41	0	31

<span style=color:#f92672>-------------------------------------------------------</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        listDirectory<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:\\Download\\Java&#34;</span><span style=color:#f92672>));</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>listDirectory</span><span style=color:#f92672>(</span>File dir<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(!</span>dir<span style=color:#f92672>.</span><span style=color:#a6e22e>exists</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> IllegalArgumentException<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;文件夹不存在&#34;</span><span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(!</span>dir<span style=color:#f92672>.</span><span style=color:#a6e22e>isDirectory</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> IllegalArgumentException<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;不是文件夹&#34;</span><span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>

        String<span style=color:#f92672>[]</span> name <span style=color:#f92672>=</span> dir<span style=color:#f92672>.</span><span style=color:#a6e22e>list</span><span style=color:#f92672>();</span>     只能显示一级子目录
        <span style=color:#a6e22e>if</span> <span style=color:#f92672>(</span>name <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>String s <span style=color:#f92672>:</span> name<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>dir <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\\&#34;</span> <span style=color:#f92672>+</span> s<span style=color:#f92672>);</span>     打印文件路径
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>}</span>

        File<span style=color:#f92672>[]</span> files <span style=color:#f92672>=</span> dir<span style=color:#f92672>.</span><span style=color:#a6e22e>listFiles</span><span style=color:#f92672>();</span>     显示文件夹下的所有文件
        <span style=color:#a6e22e>if</span> <span style=color:#f92672>(</span>files <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>File f <span style=color:#f92672>:</span> files<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>f<span style=color:#f92672>.</span><span style=color:#a6e22e>isDirectory</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
                    listDirectory<span style=color:#f92672>(</span>f<span style=color:#f92672>);</span>     递归
                <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
                    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>f<span style=color:#f92672>);</span>     打印文件路径
                <span style=color:#f92672>}</span>
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>-------------------------------------------------------</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>read</span><span style=color:#f92672>(</span>String readName<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span>
        FileInputStream fileInputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> FileInputStream<span style=color:#f92672>(</span>readName<span style=color:#f92672>);</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> read<span style=color:#f92672>,</span> m <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span> <span style=color:#f92672>(</span>read <span style=color:#f92672>=</span> fileInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>read</span><span style=color:#f92672>())</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span>1<span style=color:#f92672>;</span> m<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>     读取一个字节填充至 <span style=color:#66d9ef>int</span> 的低 8 位<span style=color:#960050;background-color:#1e0010>，</span>返回读到的内容
            <span style=color:#a6e22e>if</span> <span style=color:#f92672>(</span>read <span style=color:#f92672>&lt;=</span> 0xf<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>);</span>     前面补0
            <span style=color:#f92672>}</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>toHexString</span><span style=color:#f92672>(</span>read<span style=color:#f92672>)</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\t&#34;</span><span style=color:#f92672>);</span>
            <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>m <span style=color:#f92672>%</span> 10 <span style=color:#f92672>==</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>     换行
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>}</span>
        fileInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>

        <span style=color:#f92672>----</span>

        FileInputStream fileInputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> FileInputStream<span style=color:#f92672>(</span>readName<span style=color:#f92672>);</span>
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>32 <span style=color:#f92672>*</span> 1024<span style=color:#f92672>];</span>     32KB <span style=color:#f92672>(</span>1KB<span style=color:#f92672>=</span>1024B<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>1B<span style=color:#f92672>=</span>8b<span style=color:#f92672>)</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> read<span style=color:#f92672>,</span> m <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span> <span style=color:#f92672>(</span>read <span style=color:#f92672>=</span> fileInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>read</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>))</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span>1<span style=color:#f92672>;</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     读取字节填充至数组中<span style=color:#960050;background-color:#1e0010>，</span>返回读到的个数
            <span style=color:#a6e22e>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> read<span style=color:#f92672>;</span> i<span style=color:#f92672>++,</span> m<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
                <span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span>bytes<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>&amp;</span> 0xff<span style=color:#f92672>)</span> <span style=color:#f92672>&lt;=</span> 0xf<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>);</span>     前面补0
                <span style=color:#f92672>}</span>
                System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>toHexString</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>&amp;</span> 0xff<span style=color:#f92672>)</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\t&#34;</span><span style=color:#f92672>);</span>
                <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>m <span style=color:#f92672>%</span> 10 <span style=color:#f92672>==</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>     换行
                <span style=color:#f92672>}</span>
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>}</span>
        fileInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>write</span><span style=color:#f92672>(</span>String writeName<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;ABC123一二三&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getBytes</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;utf8&#34;</span><span style=color:#f92672>);</span>
        FileOutputStream fileOutputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> FileOutputStream<span style=color:#f92672>(</span>writeName<span style=color:#f92672>,</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>);</span>
        fileOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>);</span>     将字节数组写入
        fileOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span>1<span style=color:#f92672>);</span>     将一个字节写入 <span style=color:#f92672>(</span>1B<span style=color:#f92672>=</span>8b<span style=color:#f92672>)</span>
        fileOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>

        <span style=color:#f92672>----</span>

        DataOutputStream dataOutputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DataOutputStream<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> FileOutputStream<span style=color:#f92672>(</span>writeName<span style=color:#f92672>,</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>));</span>
        DataInputStream dataInputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DataInputStream<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> FileInputStream<span style=color:#f92672>(</span>writeName<span style=color:#f92672>));</span>

        dataOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>writeUTF</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ABC123一二三&#34;</span><span style=color:#f92672>);</span>     使用 utf<span style=color:#f92672>-</span>8 编码写入
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>dataInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>readUTF</span><span style=color:#f92672>());</span>     读取

        dataOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>writeChars</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ABC123一二三&#34;</span><span style=color:#f92672>);</span>     使用 utf<span style=color:#f92672>-</span>16be 编码写入
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[((</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span>writeName<span style=color:#f92672>).</span><span style=color:#a6e22e>length</span><span style=color:#f92672>())];</span>
        dataInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>readFully</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>);</span>     读取
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span>bytes<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;utf-16be&#34;</span><span style=color:#f92672>));</span>

        dataInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
        dataOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>copy</span><span style=color:#f92672>(</span>String srcName<span style=color:#f92672>,</span> String destName<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span>     复制文件
        BufferedInputStream bufferedInputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedInputStream<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> FileInputStream<span style=color:#f92672>(</span>srcName<span style=color:#f92672>),</span> 32 <span style=color:#f92672>*</span> 1024<span style=color:#f92672>);</span>
        BufferedOutputStream bufferedOutputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedOutputStream<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> FileOutputStream<span style=color:#f92672>(</span>destName<span style=color:#f92672>,</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>),</span> 32 <span style=color:#f92672>*</span> 1024<span style=color:#f92672>);</span>
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>32 <span style=color:#f92672>*</span> 1024<span style=color:#f92672>];</span>     32KB

        <span style=color:#a6e22e>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> read<span style=color:#f92672>;</span> <span style=color:#f92672>(</span>read <span style=color:#f92672>=</span> bufferedInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>read</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>))</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span>1<span style=color:#f92672>;</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            bufferedOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span>bytes<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> read<span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>

        bufferedOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
        bufferedInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>string2Unicode</span><span style=color:#f92672>(</span>String str<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     字符串转为 Unicode
        StringBuilder unicode <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>();</span>
        <span style=color:#66d9ef>char</span><span style=color:#f92672>[]</span> chars <span style=color:#f92672>=</span> str<span style=color:#f92672>.</span><span style=color:#a6e22e>toCharArray</span><span style=color:#f92672>();</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>char</span> c <span style=color:#f92672>:</span> chars<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            String hex <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>toHexString</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
            unicode<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;\\u&#34;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span>hex<span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>return</span> unicode<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>unicode2String</span><span style=color:#f92672>(</span>String unicode<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     Unicode 转为字符串
        StringBuilder str <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>();</span>     第一种<span style=color:#960050;background-color:#1e0010>：</span>纯 Unicode
        String<span style=color:#f92672>[]</span> split <span style=color:#f92672>=</span> unicode<span style=color:#f92672>.</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;\\\\u&#34;</span><span style=color:#f92672>);</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>String s <span style=color:#f92672>:</span> split<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>s<span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
                <span style=color:#66d9ef>continue</span><span style=color:#f92672>;</span>
            <span style=color:#f92672>}</span>
            <span style=color:#66d9ef>int</span> data <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>s<span style=color:#f92672>,</span> 16<span style=color:#f92672>);</span>
            str<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(((</span><span style=color:#66d9ef>char</span><span style=color:#f92672>)</span> data<span style=color:#f92672>));</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>return</span> str<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>

        <span style=color:#f92672>----</span>

        StringBuilder str <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>();</span>     第二种<span style=color:#960050;background-color:#1e0010>：</span>只转换了中文的 Unicode
        <span style=color:#a6e22e>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>,</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>!=</span> unicode<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>();</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     j<span style=color:#f92672>=</span>指针缓存<span style=color:#960050;background-color:#1e0010>，</span>i<span style=color:#f92672>=</span>指针
            i <span style=color:#f92672>=</span> unicode<span style=color:#f92672>.</span><span style=color:#a6e22e>indexOf</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;\\u&#34;</span><span style=color:#f92672>,</span> i<span style=color:#f92672>);</span>
            <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>i <span style=color:#f92672>==</span> <span style=color:#f92672>-</span>1<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                <span style=color:#66d9ef>return</span> str<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span>unicode<span style=color:#f92672>.</span><span style=color:#a6e22e>substring</span><span style=color:#f92672>(</span>j<span style=color:#f92672>)).</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>
            <span style=color:#f92672>}</span>
            str<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span>unicode<span style=color:#f92672>.</span><span style=color:#a6e22e>substring</span><span style=color:#f92672>(</span>j<span style=color:#f92672>,</span> i<span style=color:#f92672>));</span>
            String hex <span style=color:#f92672>=</span> unicode<span style=color:#f92672>.</span><span style=color:#a6e22e>substring</span><span style=color:#f92672>(</span>i <span style=color:#f92672>+</span> 2<span style=color:#f92672>,</span> i <span style=color:#f92672>+</span> 6<span style=color:#f92672>);</span>
            <span style=color:#66d9ef>int</span> data <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>hex<span style=color:#f92672>,</span> 16<span style=color:#f92672>);</span>
            str<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(((</span><span style=color:#66d9ef>char</span><span style=color:#f92672>)</span> data<span style=color:#f92672>));</span>
            j <span style=color:#f92672>=</span> i <span style=color:#f92672>+=</span> 6<span style=color:#f92672>;</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>return</span> str<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>-------------------------------------------------------</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Student</span> <span style=color:#66d9ef>implements</span> Serializable <span style=color:#f92672>{</span>     实现序列化接口
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> id<span style=color:#f92672>;</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>transient</span> <span style=color:#66d9ef>int</span> age<span style=color:#f92672>;</span>     用 <span style=color:#66d9ef>transient</span> 修饰的属性不会自动进行序列化<span style=color:#960050;background-color:#1e0010>，</span>但可以手动进行序列化
    <span style=color:#66d9ef>private</span> String name<span style=color:#f92672>;</span>

    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Student</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> id<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> age<span style=color:#f92672>,</span> String name<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> id<span style=color:#f92672>;</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>age</span> <span style=color:#f92672>=</span> age<span style=color:#f92672>;</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Student{&#34;</span> <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#34;id=&#34;</span> <span style=color:#f92672>+</span> id <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#34;, age=&#34;</span> <span style=color:#f92672>+</span> age <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#34;, name=&#39;&#34;</span> <span style=color:#f92672>+</span> name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;\&#39;&#39;</span> <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#39;}&#39;</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>getId</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> id<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setId</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> id<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> id<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>getAge</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> age<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setAge</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> age<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>age</span> <span style=color:#f92672>=</span> age<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> name<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setName</span><span style=color:#f92672>(</span>String name<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>writeObject</span><span style=color:#f92672>(</span>java<span style=color:#f92672>.</span><span style=color:#a6e22e>io</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ObjectOutputStream</span> s<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> java<span style=color:#f92672>.</span><span style=color:#a6e22e>io</span><span style=color:#f92672>.</span><span style=color:#a6e22e>IOException</span> <span style=color:#f92672>{</span>     序列化方法
        s<span style=color:#f92672>.</span><span style=color:#a6e22e>defaultWriteObject</span><span style=color:#f92672>();</span>     自动序列化属性
        s<span style=color:#f92672>.</span><span style=color:#a6e22e>writeInt</span><span style=color:#f92672>(</span>age<span style=color:#f92672>);</span>     手动序列化 <span style=color:#66d9ef>transient</span> 修饰的属性
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>readObject</span><span style=color:#f92672>(</span>java<span style=color:#f92672>.</span><span style=color:#a6e22e>io</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ObjectInputStream</span> s<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> java<span style=color:#f92672>.</span><span style=color:#a6e22e>io</span><span style=color:#f92672>.</span><span style=color:#a6e22e>IOException</span><span style=color:#f92672>,</span> ClassNotFoundException <span style=color:#f92672>{</span>     反序列化方法
        s<span style=color:#f92672>.</span><span style=color:#a6e22e>defaultReadObject</span><span style=color:#f92672>();</span>     自动反序列化属性
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>age</span> <span style=color:#f92672>=</span> s<span style=color:#f92672>.</span><span style=color:#a6e22e>readInt</span><span style=color:#f92672>();</span>     手动反序列化 <span style=color:#66d9ef>transient</span> 修饰的属性
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException<span style=color:#f92672>,</span> ClassNotFoundException <span style=color:#f92672>{</span>
        save<span style=color:#f92672>();</span>     保存<span style=color:#960050;background-color:#1e0010>（</span>序列化<span style=color:#960050;background-color:#1e0010>）</span>
        load<span style=color:#f92672>();</span>     读取<span style=color:#960050;background-color:#1e0010>（</span>反序列化<span style=color:#960050;background-color:#1e0010>）</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>save</span><span style=color:#f92672>()</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span>
        Student student <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Student<span style=color:#f92672>(</span>1<span style=color:#f92672>,</span> 21<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;张三&#34;</span><span style=color:#f92672>);</span>

        ObjectOutputStream objectOutputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ObjectOutputStream<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> FileOutputStream<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/student.dat&#34;</span><span style=color:#f92672>));</span>
        objectOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>writeObject</span><span style=color:#f92672>(</span>student<span style=color:#f92672>);</span>     保存<span style=color:#960050;background-color:#1e0010>（</span>序列化<span style=color:#960050;background-color:#1e0010>）</span>
        objectOutputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>load</span><span style=color:#f92672>()</span> <span style=color:#66d9ef>throws</span> IOException<span style=color:#f92672>,</span> ClassNotFoundException <span style=color:#f92672>{</span>
        ObjectInputStream objectInputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ObjectInputStream<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> FileInputStream<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/student.dat&#34;</span><span style=color:#f92672>));</span>
        Student student <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Student<span style=color:#f92672>)</span> objectInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>readObject</span><span style=color:#f92672>();</span>     读取<span style=color:#960050;background-color:#1e0010>（</span>反序列化<span style=color:#960050;background-color:#1e0010>）</span>
        objectInputStream<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>

        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>student<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
Student<span style=color:#f92672>{</span>id<span style=color:#f92672>=</span>1<span style=color:#f92672>,</span> age<span style=color:#f92672>=</span>21<span style=color:#f92672>,</span> name<span style=color:#f92672>=</span><span style=color:#960050;background-color:#1e0010>&#39;</span>张三<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>}</span>
</code></pre></div><h1 id=nio>NIO</h1><p>用于替代原有的 IO 体系。</p><h2 id=path>Path</h2><p>用于代表文件(夹)，是文件(夹)的抽象化形式，不能用于对文件内容的访问。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>Path path <span style=color:#f92672>=</span> Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/123/123&#34;</span><span style=color:#f92672>);</span>     D<span style=color:#f92672>:</span><span style=color:#960050;background-color:#1e0010>\</span>123<span style=color:#960050;background-color:#1e0010>\</span>123
Path name <span style=color:#f92672>=</span> path<span style=color:#f92672>.</span><span style=color:#a6e22e>getFileName</span><span style=color:#f92672>();</span>     123
Path parent <span style=color:#f92672>=</span> path<span style=color:#f92672>.</span><span style=color:#a6e22e>getParent</span><span style=color:#f92672>();</span>     D<span style=color:#f92672>:</span><span style=color:#960050;background-color:#1e0010>\</span>123
Path root <span style=color:#f92672>=</span> path<span style=color:#f92672>.</span><span style=color:#a6e22e>getRoot</span><span style=color:#f92672>();</span>     D<span style=color:#f92672>:</span><span style=color:#960050;background-color:#1e0010>\</span>

<span style=color:#66d9ef>int</span> nameCount <span style=color:#f92672>=</span> path<span style=color:#f92672>.</span><span style=color:#a6e22e>getNameCount</span><span style=color:#f92672>();</span>     2
Path name1 <span style=color:#f92672>=</span> path<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>(</span>0<span style=color:#f92672>);</span>     123
Path name2 <span style=color:#f92672>=</span> path<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>(</span>1<span style=color:#f92672>);</span>     123

Path path1 <span style=color:#f92672>=</span> path<span style=color:#f92672>.</span><span style=color:#a6e22e>resolve</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;1.txt&#34;</span><span style=color:#f92672>);</span>                D<span style=color:#f92672>:</span><span style=color:#960050;background-color:#1e0010>\</span>123<span style=color:#960050;background-color:#1e0010>\</span>123<span style=color:#960050;background-color:#1e0010>\</span>1<span style=color:#f92672>.</span><span style=color:#a6e22e>txt</span>
Path path2 <span style=color:#f92672>=</span> path<span style=color:#f92672>.</span><span style=color:#a6e22e>resolveSibling</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;1.txt&#34;</span><span style=color:#f92672>);</span>     D<span style=color:#f92672>:</span><span style=color:#960050;background-color:#1e0010>\</span>123<span style=color:#960050;background-color:#1e0010>\</span>1<span style=color:#f92672>.</span><span style=color:#a6e22e>txt</span>

path<span style=color:#f92672>.</span><span style=color:#a6e22e>toFile</span><span style=color:#f92672>().</span><span style=color:#a6e22e>toPath</span><span style=color:#f92672>();</span>     相互转换
</code></pre></div><h2 id=files>Files</h2><p>包含一系列静态方法，用于对文件(夹)的具体操作。（注意 IO Stream 要关闭）</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>递归创建目录
<span style=color:#f92672>----</span>
Path path <span style=color:#f92672>=</span> Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/123/123&#34;</span><span style=color:#f92672>);</span>
Files<span style=color:#f92672>.</span><span style=color:#a6e22e>createDirectories</span><span style=color:#f92672>(</span>path<span style=color:#f92672>);</span>

创建文件
<span style=color:#f92672>----</span>
Path path <span style=color:#f92672>=</span> Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/123.txt&#34;</span><span style=color:#f92672>);</span>
Files<span style=color:#f92672>.</span><span style=color:#a6e22e>createFile</span><span style=color:#f92672>(</span>path<span style=color:#f92672>);</span>

直接获取文件的输入流<span style=color:#960050;background-color:#1e0010>、</span>输出流
<span style=color:#f92672>----</span>
Path path <span style=color:#f92672>=</span> Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/123.txt&#34;</span><span style=color:#f92672>);</span>
BufferedReader bufferedReader <span style=color:#f92672>=</span> Files<span style=color:#f92672>.</span><span style=color:#a6e22e>newBufferedReader</span><span style=color:#f92672>(</span>path<span style=color:#f92672>,</span> Charset<span style=color:#f92672>.</span><span style=color:#a6e22e>forName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;utf-8&#34;</span><span style=color:#f92672>));</span>
BufferedWriter bufferedWriter <span style=color:#f92672>=</span> Files<span style=color:#f92672>.</span><span style=color:#a6e22e>newBufferedWriter</span><span style=color:#f92672>(</span>path<span style=color:#f92672>,</span> Charset<span style=color:#f92672>.</span><span style=color:#a6e22e>forName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;utf-8&#34;</span><span style=color:#f92672>));</span>

直接将集合内容写入
<span style=color:#f92672>----</span>
Path path <span style=color:#f92672>=</span> Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/123.txt&#34;</span><span style=color:#f92672>);</span>
List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> list <span style=color:#f92672>=</span> Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>asList</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;AAA&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;BBB&#34;</span><span style=color:#f92672>);</span>
Files<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span>path<span style=color:#f92672>,</span> list<span style=color:#f92672>,</span> Charset<span style=color:#f92672>.</span><span style=color:#a6e22e>forName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;utf-8&#34;</span><span style=color:#f92672>),</span> StandardOpenOption<span style=color:#f92672>.</span><span style=color:#a6e22e>CREATE</span><span style=color:#f92672>,</span> StandardOpenOption<span style=color:#f92672>.</span><span style=color:#a6e22e>APPEND</span><span style=color:#f92672>);</span>     不存在便创建<span style=color:#960050;background-color:#1e0010>，</span>存在便追加

合并文件
<span style=color:#f92672>----</span>
Vector<span style=color:#f92672>&lt;</span>InputStream<span style=color:#f92672>&gt;</span> inputStreams <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Vector<span style=color:#f92672>&lt;&gt;(</span>Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>asList</span><span style=color:#f92672>(</span>Files<span style=color:#f92672>.</span><span style=color:#a6e22e>newInputStream</span><span style=color:#f92672>(</span>Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/1.txt&#34;</span><span style=color:#f92672>)),</span> Files<span style=color:#f92672>.</span><span style=color:#a6e22e>newInputStream</span><span style=color:#f92672>(</span>Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/2.txt&#34;</span><span style=color:#f92672>)),</span> Files<span style=color:#f92672>.</span><span style=color:#a6e22e>newInputStream</span><span style=color:#f92672>(</span>Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/3.txt&#34;</span><span style=color:#f92672>))));</span>
Enumeration<span style=color:#f92672>&lt;</span>InputStream<span style=color:#f92672>&gt;</span> elements <span style=color:#f92672>=</span> inputStreams<span style=color:#f92672>.</span><span style=color:#a6e22e>elements</span><span style=color:#f92672>();</span>     获得 Vector 中所有元素的枚举
<span style=color:#a6e22e>try</span> <span style=color:#f92672>(</span>SequenceInputStream sequenceInputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> SequenceInputStream<span style=color:#f92672>(</span>elements<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>     传入枚举合并为一个输入流
    Files<span style=color:#f92672>.</span><span style=color:#a6e22e>copy</span><span style=color:#f92672>(</span>sequenceInputStream<span style=color:#f92672>,</span> Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/4.txt&#34;</span><span style=color:#f92672>),</span> StandardCopyOption<span style=color:#f92672>.</span><span style=color:#a6e22e>REPLACE_EXISTING</span><span style=color:#f92672>);</span>     复制<span style=color:#960050;background-color:#1e0010>：</span>InputStream <span style=color:#960050;background-color:#1e0010>➜</span> Path
<span style=color:#f92672>}</span>     自动关闭资源

监视目录的增删改
<span style=color:#f92672>----</span>
WatchService watchService <span style=color:#f92672>=</span> FileSystems<span style=color:#f92672>.</span><span style=color:#a6e22e>getDefault</span><span style=color:#f92672>().</span><span style=color:#a6e22e>newWatchService</span><span style=color:#f92672>();</span>     监视服务
Path dir <span style=color:#f92672>=</span> Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/1&#34;</span><span style=color:#f92672>);</span>     监视目录
WatchKey watchKey <span style=color:#f92672>=</span> dir<span style=color:#f92672>.</span><span style=color:#a6e22e>register</span><span style=color:#f92672>(</span>watchService<span style=color:#f92672>,</span> ENTRY_CREATE<span style=color:#f92672>,</span> ENTRY_DELETE<span style=color:#f92672>,</span> ENTRY_MODIFY<span style=color:#f92672>);</span>     注册监视服务<span style=color:#960050;background-color:#1e0010>，</span>返回监视事件
<span style=color:#a6e22e>while</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>true</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     无限轮询监视事件
    watchKey<span style=color:#f92672>.</span><span style=color:#a6e22e>pollEvents</span><span style=color:#f92672>().</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>o <span style=color:#f92672>-&gt;</span> <span style=color:#f92672>{</span>     轮询
        WatchEvent<span style=color:#f92672>.</span><span style=color:#a6e22e>Kind</span><span style=color:#f92672>&lt;?&gt;</span> kind <span style=color:#f92672>=</span> o<span style=color:#f92672>.</span><span style=color:#a6e22e>kind</span><span style=color:#f92672>();</span>     事件类型
        Path path <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Path<span style=color:#f92672>)</span> o<span style=color:#f92672>.</span><span style=color:#a6e22e>context</span><span style=color:#f92672>();</span>     事件路径
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>printf</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;%s__%s\n&#34;</span><span style=color:#f92672>,</span> kind<span style=color:#f92672>,</span> path<span style=color:#f92672>);</span>
    <span style=color:#f92672>});</span>
    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(!</span>watchKey<span style=color:#f92672>.</span><span style=color:#a6e22e>isValid</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;失效&#34;</span><span style=color:#f92672>);</span>
        <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

遍历当前目录
<span style=color:#f92672>----</span>
Path path <span style=color:#f92672>=</span> Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/&#34;</span><span style=color:#f92672>);</span>
Files<span style=color:#f92672>.</span><span style=color:#a6e22e>list</span><span style=color:#f92672>(</span>path<span style=color:#f92672>).</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>     只接收一个参数<span style=color:#960050;background-color:#1e0010>，</span>不够强大

Files<span style=color:#f92672>.</span><span style=color:#a6e22e>newDirectoryStream</span><span style=color:#f92672>(</span>path<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;*.txt&#34;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>     只显示 txt 文件<span style=color:#960050;background-color:#1e0010>（</span>接收匹配字符串<span style=color:#960050;background-color:#1e0010>）</span>
Files<span style=color:#f92672>.</span><span style=color:#a6e22e>newDirectoryStream</span><span style=color:#f92672>(</span>path<span style=color:#f92672>,</span> Files<span style=color:#f92672>::</span>isRegularFile<span style=color:#f92672>).</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>     只显示文件<span style=color:#960050;background-color:#1e0010>（</span>接收 Filter 接口<span style=color:#960050;background-color:#1e0010>）</span>

递归遍历目录并访问文件属性
<span style=color:#f92672>----</span>
Path path <span style=color:#f92672>=</span> Paths<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;D:/123&#34;</span><span style=color:#f92672>);</span>
Files<span style=color:#f92672>.</span><span style=color:#a6e22e>walk</span><span style=color:#f92672>(</span>path<span style=color:#f92672>,</span> 3<span style=color:#f92672>,</span> FileVisitOption<span style=color:#f92672>.</span><span style=color:#a6e22e>FOLLOW_LINKS</span><span style=color:#f92672>).</span><span style=color:#a6e22e>filter</span><span style=color:#f92672>(</span>Files<span style=color:#f92672>::</span>isRegularFile<span style=color:#f92672>).</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>o <span style=color:#f92672>-&gt;</span> <span style=color:#f92672>{</span>     <span style=color:#960050;background-color:#1e0010>（</span>递归目录<span style=color:#960050;background-color:#1e0010>，</span>递归深度<span style=color:#960050;background-color:#1e0010>，</span>跟随软连接<span style=color:#960050;background-color:#1e0010>），</span>只显示文件
    <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
        Map<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>,</span> Object<span style=color:#f92672>&gt;</span> map <span style=color:#f92672>=</span> Files<span style=color:#f92672>.</span><span style=color:#a6e22e>readAttributes</span><span style=color:#f92672>(</span>o<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;size,lastModifiedTime,lastAccessTime&#34;</span><span style=color:#f92672>);</span>     访问文件属性
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>map <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;__&#34;</span> <span style=color:#f92672>+</span> o<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>IOException e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        e<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>});</span>
</code></pre></div></div><div class=sharing style=text-align:center><br><p>捐赠支持</p><p>如果我的文章对你有所帮助，欢迎通过支付宝的扫一扫，轻松的向我发起捐助。</p><p>对于你的支持，我会心怀感激且倍感荣幸地接受，并继续努力。</p><img src=https://ww4.sinaimg.cn/large/a15b4afegw1fbn096ql6dj20dw0dwwe9.jpg alt title data-action=zoom width=40%><p></p><br>&copy; 2015-2020 XhstormR</div></div></div></div><div id=backtop><a href=# title>TOP</a></div><nav id=TableOfContents><ul><li><a href=#file>File</a></li><li><a href=#randomaccessfile>RandomAccessFile</a></li><li><a href=#对象的序列化和反序列化>对象的序列化和反序列化</a></li><li><a href=#code>Code</a></li></ul><ul><li><a href=#path>Path</a></li><li><a href=#files>Files</a></li></ul></nav><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/yaml.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/kotlin.min.js></script><script>hljs.initHighlightingOnLoad()</script><script src=https://blog.xhstormr.tk/js/zoom.min.js></script><script>window.addEventListener("load",show),window.onscroll=show;function show(){document.documentElement.scrollTop+document.body.scrollTop>300?document.getElementById("backtop").style.display="block":document.getElementById("backtop").style.display="none"}</script><script type=text/javascript color=0,0,0 opacity=1 zindex=-2 count=49 src=https://cdnjs.cloudflare.com/ajax/libs/canvas-nest.js/2.0.4/canvas-nest.js></script></body></html>