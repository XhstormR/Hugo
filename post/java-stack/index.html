<!doctype html><html lang=zh-cn manifest=https://blog.xhstormr.tk/offline.appcache><head><meta charset=utf-8><meta name=renderer content="webkit"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Queue and Stack &#183; XhstormR</title><link rel=alternate type=application/rss+xml title=XhstormR href><link rel=icon type=image/x-icon href=https://blog.xhstormr.tk/favicon.ico><link rel=stylesheet href=https://blog.xhstormr.tk/css/uno.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/monokai-sublime.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js></script><script src=https://blog.xhstormr.tk/js/main.min.js async defer></script></head><body><div id=scriptHeader><span class="mobile btn-mobile-menu"><i class="fa fa-bars btn-mobile-menu__icon"></i>
<i class="fa fa-times btn-mobile-close__icon hidden"></i></span><header class="panel-cover panel-cover--collapsed"><div class=panel-main><div class="panel-main__inner panel-inverted"><div class=panel-main__content><h1 class="panel-cover__title panel-title"><a href=https://blog.xhstormr.tk/ title="link to homepage for XhstormR">XhstormR</a></h1><hr class=panel-cover__divider><p class=panel-cover__description>On a dark desert highway, cool wind in my hair.</p><hr class="panel-cover__divider panel-cover__divider--secondary"><div class=navigation-wrapper><nav class="cover-navigation cover-navigation--primary"><ul class=navigation><li class=navigation__item><a href=https://blog.xhstormr.tk#blog title="link to XhstormR blog" class=blog-button>Blog</a></li></ul></nav></div></div></div><div class=panel-cover--overlay></div></div></header></div><div class=bodytop><div class=content-wrapper><div class=content-wrapper__inner><div class=post><h1>Queue and Stack</h1><span class=post-date>2016-07-21</span><p>Updated on 2017-04-12</p><blockquote><p style=text-align:center><img data-src=/uploads/java-stack.svg alt title=Stack data-action=zoom width></p><script>[].forEach.call(document.querySelectorAll("img[data-src]"),function(a){a.setAttribute("src",a.getAttribute("data-src")),a.onload=function(){a.removeAttribute("data-src")}})</script><p style=text-align:center><img data-src=/uploads/java-stack2.svg alt title=Stack data-action=zoom width></p><script>[].forEach.call(document.querySelectorAll("img[data-src]"),function(a){a.setAttribute("src",a.getAttribute("data-src")),a.onload=function(){a.removeAttribute("data-src")}})</script><p style=text-align:center><img data-src=/uploads/java-queue.svg alt title=Queue data-action=zoom width></p><script>[].forEach.call(document.querySelectorAll("img[data-src]"),function(a){a.setAttribute("src",a.getAttribute("data-src")),a.onload=function(){a.removeAttribute("data-src")}})</script><p><a href=https://zh.wikipedia.org/wiki/%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97>双端队列</a></p><p><a href=https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/Deque.html>双端队列 API</a></p></blockquote><ul><li>数据结构：相互之间存在一种或多种特定 <strong>关系</strong> 的数据元素的 <strong>集合</strong>。<ul><li>队列（两个口）（Queue）：<strong>先进先出</strong>（FIFO, First In First Out），队头 ⟺ 队尾。<ul><li>普通队列（劣），环形队列（优）。</li></ul></li><li>堆栈（一个口）（Stack）：<strong>先进后出</strong>（LIFO, Last In First Out），栈顶 ⟺ 栈底。<ul><li>push：数据入栈。</li><li>pop：数据出栈，并作为此函数的值返回该对象。</li><li>peek：查看栈顶部的对象，但不从栈中移除它。</li><li>empty：测试栈是否为空。</li><li>search：返回对象在栈中的位置。</li></ul></li></ul></li></ul><h2 id=双端队列>双端队列</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> java.util.ArrayDeque<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> ArrayDeque<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> deque <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayDeque<span style=color:#f92672>&lt;&gt;();</span>     双端队列<span style=color:#960050;background-color:#1e0010>（</span>ArrayDeque 非线程安全<span style=color:#960050;background-color:#1e0010>，</span>LinkedBlockingDeque 线程安全<span style=color:#960050;background-color:#1e0010>）</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;队列&#34;</span><span style=color:#f92672>);</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerLast</span><span style=color:#f92672>(</span>1<span style=color:#f92672>);</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerLast</span><span style=color:#f92672>(</span>2<span style=color:#f92672>);</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerLast</span><span style=color:#f92672>(</span>3<span style=color:#f92672>);</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerLast</span><span style=color:#f92672>(</span>4<span style=color:#f92672>);</span>
        show<span style=color:#f92672>();</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerLast</span><span style=color:#f92672>(</span>deque<span style=color:#f92672>.</span><span style=color:#a6e22e>pollFirst</span><span style=color:#f92672>());</span>
        show<span style=color:#f92672>();</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerLast</span><span style=color:#f92672>(</span>deque<span style=color:#f92672>.</span><span style=color:#a6e22e>pollFirst</span><span style=color:#f92672>());</span>
        show<span style=color:#f92672>();</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerLast</span><span style=color:#f92672>(</span>deque<span style=color:#f92672>.</span><span style=color:#a6e22e>pollFirst</span><span style=color:#f92672>());</span>
        show<span style=color:#f92672>();</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerLast</span><span style=color:#f92672>(</span>deque<span style=color:#f92672>.</span><span style=color:#a6e22e>pollFirst</span><span style=color:#f92672>());</span>
        show<span style=color:#f92672>();</span>

        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;————————&#34;</span><span style=color:#f92672>);</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>clear</span><span style=color:#f92672>();</span>     清空双端队列

        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;堆栈&#34;</span><span style=color:#f92672>);</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerFirst</span><span style=color:#f92672>(</span>1<span style=color:#f92672>);</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerFirst</span><span style=color:#f92672>(</span>2<span style=color:#f92672>);</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerFirst</span><span style=color:#f92672>(</span>3<span style=color:#f92672>);</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerFirst</span><span style=color:#f92672>(</span>4<span style=color:#f92672>);</span>
        show<span style=color:#f92672>();</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerFirst</span><span style=color:#f92672>(</span>deque<span style=color:#f92672>.</span><span style=color:#a6e22e>pollFirst</span><span style=color:#f92672>());</span>
        show<span style=color:#f92672>();</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerFirst</span><span style=color:#f92672>(</span>deque<span style=color:#f92672>.</span><span style=color:#a6e22e>pollFirst</span><span style=color:#f92672>());</span>
        show<span style=color:#f92672>();</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerFirst</span><span style=color:#f92672>(</span>deque<span style=color:#f92672>.</span><span style=color:#a6e22e>pollFirst</span><span style=color:#f92672>());</span>
        show<span style=color:#f92672>();</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>offerFirst</span><span style=color:#f92672>(</span>deque<span style=color:#f92672>.</span><span style=color:#a6e22e>pollFirst</span><span style=color:#f92672>());</span>
        show<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>show</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        deque<span style=color:#f92672>.</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>i <span style=color:#f92672>-&gt;</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>i <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>));</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
队列
1 2 3 4
2 3 4 1
3 4 1 2
4 1 2 3
1 2 3 4
<span style=color:#960050;background-color:#1e0010>————————</span>
堆栈
4 3 2 1
4 3 2 1
4 3 2 1
4 3 2 1
4 3 2 1
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> java.util.ArrayDeque<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        String<span style=color:#f92672>[]</span> strs <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>[]{</span><span style=color:#e6db74>&#34;A&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;B&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;C&#34;</span><span style=color:#f92672>};</span>
        ArrayDeque<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> deque <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayDeque<span style=color:#f92672>&lt;&gt;();</span>
        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> 2<span style=color:#f92672>;</span>

        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>String s <span style=color:#f92672>:</span> strs<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            deque<span style=color:#f92672>.</span><span style=color:#a6e22e>addFirst</span><span style=color:#f92672>(</span>s<span style=color:#f92672>);</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>printf</span><span style=color:#f92672>(</span>space<span style=color:#f92672>(</span>k <span style=color:#f92672>*</span> deque<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>())</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&lt;%s&gt;\n&#34;</span><span style=color:#f92672>,</span> s<span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>,</span> n <span style=color:#f92672>=</span> deque<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>();</span> j <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span> j<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>printf</span><span style=color:#f92672>(</span>space<span style=color:#f92672>(</span>k <span style=color:#f92672>*</span> deque<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>())</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&lt;/%s&gt;\n&#34;</span><span style=color:#f92672>,</span> deque<span style=color:#f92672>.</span><span style=color:#a6e22e>removeFirst</span><span style=color:#f92672>());</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>space</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        StringBuilder sb <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>();</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> j <span style=color:#f92672>&lt;</span> i<span style=color:#f92672>;</span> j<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
            sb<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>return</span> sb<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
  <span style=color:#f92672>&lt;</span>A<span style=color:#f92672>&gt;</span>
    <span style=color:#f92672>&lt;</span>B<span style=color:#f92672>&gt;</span>
      <span style=color:#f92672>&lt;</span>C<span style=color:#f92672>&gt;</span>
      <span style=color:#f92672>&lt;/</span>C<span style=color:#f92672>&gt;</span>
    <span style=color:#f92672>&lt;/</span>B<span style=color:#f92672>&gt;</span>
  <span style=color:#f92672>&lt;/</span>A<span style=color:#f92672>&gt;</span>
</code></pre></div><h2 id=固定顺序进栈求出栈顺序总数>固定顺序进栈，求出栈顺序总数</h2><p>1 个元素进栈有 1 种出栈顺序，2 个元素进栈有 2 种出栈顺序，3 个元素进栈有 5 种出栈顺序</p><p>把 <code>n</code> 个元素的出栈顺序数记为 <code>f(n)</code>，则对于 <code>1</code>、 <code>2</code>、 <code>3</code> 元素可得出：</p><ul><li>f(1) = 1 // 1</li><li>f(2) = 2 // 12、21</li><li>f(3) = 5 // 123、213、231、312、321</li></ul><p>那么对于 <code>f(4)</code>，给其 4 个元素编号为 a，b，c，d；假设进栈顺序为 abcd，考虑出栈顺序元素 a 出现在1号位置、2号位置、3号位置、4号位置的情况：</p><ul><li>a 在1号位置：只可能 a 进栈，再马上出栈；还剩 b，c，d，即子问题 <code>f(3)</code>。</li><li>a 在2号位置：有1个元素比 a 先出栈，即子问题 <code>f(1)</code>（只能是 b）；还剩 c，d，即子问题 <code>f(2)</code>；那么一共的顺序个数为 <code>f(1)</code> * <code>f(2)</code>。</li><li>a 在3号位置：有2个元素比 a 先出栈，即子问题 <code>f(2)</code>（只能是 b，c）；还剩 d，即子问题 <code>f(1)</code>；那么一共的顺序个数为 <code>f(2)</code> * <code>f(1)</code>。</li><li>a 在4号位置：a 最后出栈，即求前面 b，c，d 的出栈顺序，即子问题 <code>f(3)</code>。</li></ul><p>结合所有情况，即：f(4) = f(3) + f(1)*f(2) + f(2)*f(1) + f(3)</p><p>再规整化，定义 <code>f(0) = 1</code>，即：f(4) = f(0)*f(3) + f(1)*f(2) + f(2)*f(1) + f(3)*f(0)</p><p>再推广至 n，即：f(n) = f(0)*f(n-1) + f(1)*f(n-2) + &mldr; + f(n-2)*f(1) + f(n-1)*f(0)</p><p>化简为递推公式：</p><p><img src=/uploads/java-stack-catalan1.png alt title=Catalan></p><p>推出通项公式：</p><p><img src=/uploads/java-stack-catalan2.png alt title=Catalan></p><h2 id=中缀表达式转后缀表达式的思路>中缀表达式转后缀表达式的思路</h2><ul><li>stack1 ⟺ 操作符；stack2 ⟺ 操作数</li><li>操作符：若 stack1 为空栈，则直接进栈 stack1。<ul><li>若优先级比 stack1 栈顶元素高，则进栈 stack1。</li><li>若优先级比 stack1 栈顶元素低或相同，则弹出 stack1 栈顶元素至 stack2，再与 stack1 栈顶元素比较。</li></ul></li><li>操作数：直接进栈 stack2。</li><li>最后清空 stack1 元素至 stack2，done。</li></ul><h2 id=reference>Reference</h2><p>Catalan number：https://en.wikipedia.org/wiki/Catalan_number</p><p>Regex：http://help.mythicsoft.com/filelocatorpro/cn/quickstart.htm , <a href=http://download.java.net/jdk/jdk-api-localizations/jdk-api-zh-cn/publish/1.6.0/html/zh_CN/api/java/util/regex/Pattern.html#sum>Java</a></p><p>LaTeX：https://latex.codecogs.com/eqneditor/editor.php</p><p style=text-align:center><img src=/uploads/java-stack.png alt title=Stack data-action=zoom width></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>10进制 转 2进制
<span style=color:#f92672>----</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>conversion<span style=color:#f92672>(</span>6<span style=color:#f92672>,</span> 2<span style=color:#f92672>));</span>     6 转为 2进制
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> StringBuilder <span style=color:#a6e22e>conversion</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> num<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> n<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        Stack<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> stack <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Stack<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;();</span>     新建一个栈
        <span style=color:#a6e22e>for</span> <span style=color:#f92672>(;</span> <span style=color:#f92672>;</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            stack<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>num <span style=color:#f92672>%</span> n<span style=color:#f92672>);</span>     余数入栈
            num <span style=color:#f92672>/=</span> n<span style=color:#f92672>;</span>
            <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>num <span style=color:#f92672>==</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>()).</span><span style=color:#a6e22e>reverse</span><span style=color:#f92672>();</span>     <span style=color:#960050;background-color:#1e0010>①</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
注 <span style=color:#960050;background-color:#1e0010>①：</span>
1
1
0   <span style=color:#960050;background-color:#1e0010>➜</span>   <span style=color:#f92672>[</span>0<span style=color:#f92672>,</span> 1<span style=color:#f92672>,</span> 1<span style=color:#f92672>]</span>   <span style=color:#960050;background-color:#1e0010>➜</span>   <span style=color:#f92672>]</span>1 <span style=color:#f92672>,</span>1 <span style=color:#f92672>,</span>0<span style=color:#f92672>[</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
<span style=color:#f92672>]</span>1 <span style=color:#f92672>,</span>1 <span style=color:#f92672>,</span>0<span style=color:#f92672>[</span>

<span style=color:#f92672>-------------------------------------------------------</span>

括号配对问题<span style=color:#960050;background-color:#1e0010>（</span>消消乐<span style=color:#960050;background-color:#1e0010>）</span>
<span style=color:#f92672>----</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>isMatch<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;(])&#34;</span><span style=color:#f92672>));</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>isMatch<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;([[]()])&#34;</span><span style=color:#f92672>));</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>isMatch</span><span style=color:#f92672>(</span>String str<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        Stack<span style=color:#f92672>&lt;</span>Character<span style=color:#f92672>&gt;</span> stack <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Stack<span style=color:#f92672>&lt;</span>Character<span style=color:#f92672>&gt;();</span>     新建一个栈
        <span style=color:#a6e22e>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> str<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>();</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>     扫描字符串
            <span style=color:#a6e22e>switch</span> <span style=color:#f92672>(</span>str<span style=color:#f92672>.</span><span style=color:#a6e22e>charAt</span><span style=color:#f92672>(</span>i<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;(&#39;</span><span style=color:#f92672>:</span>
                    stack<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;(&#39;</span><span style=color:#f92672>);</span>     数据入栈
                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;[&#39;</span><span style=color:#f92672>:</span>
                    stack<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;[&#39;</span><span style=color:#f92672>);</span>     数据入栈
                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;)&#39;</span><span style=color:#f92672>:</span>
                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(!</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>empty</span><span style=color:#f92672>()</span> <span style=color:#f92672>&amp;&amp;</span> stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;(&#39;</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     匹配成功<span style=color:#960050;background-color:#1e0010>，</span>数据出栈
                        <span style=color:#66d9ef>continue</span><span style=color:#f92672>;</span>
                    <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
                        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
                    <span style=color:#f92672>}</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;]&#39;</span><span style=color:#f92672>:</span>
                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(!</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>empty</span><span style=color:#f92672>()</span> <span style=color:#f92672>&amp;&amp;</span> stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;[&#39;</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     匹配成功<span style=color:#960050;background-color:#1e0010>，</span>数据出栈
                        <span style=color:#66d9ef>continue</span><span style=color:#f92672>;</span>
                    <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
                        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
                    <span style=color:#f92672>}</span>
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>return</span> stack<span style=color:#f92672>.</span><span style=color:#a6e22e>empty</span><span style=color:#f92672>();</span>     判断栈是否为空<span style=color:#960050;background-color:#1e0010>（</span>其实到这步可以直接返回 <span style=color:#66d9ef>true</span><span style=color:#960050;background-color:#1e0010>）</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
<span style=color:#66d9ef>false</span>
<span style=color:#66d9ef>true</span>

<span style=color:#f92672>-------------------------------------------------------</span>

中缀表达式转为后缀表达式
<span style=color:#f92672>----</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        String a <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;1.8 + 5 / 8 * 1.6&#34;</span><span style=color:#f92672>;</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>a <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span> <span style=color:#f92672>+</span> reverse<span style=color:#f92672>(</span>a<span style=color:#f92672>));</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>reverse</span><span style=color:#f92672>(</span>String str<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        Stack<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> stack <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Stack<span style=color:#f92672>&lt;&gt;();</span>       stack    原表达式
        Stack<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> stack1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Stack<span style=color:#f92672>&lt;&gt;();</span>     stack1  操作符
        Stack<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> stack2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Stack<span style=color:#f92672>&lt;&gt;();</span>     stack2  操作数

        <span style=color:#a6e22e>for</span> <span style=color:#f92672>(</span>String i <span style=color:#f92672>:</span> reverseString<span style=color:#f92672>(</span>str<span style=color:#f92672>.</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>)))</span> <span style=color:#f92672>{</span>     字符串   <span style=color:#960050;background-color:#1e0010>➜</span>   String 数组   <span style=color:#960050;background-color:#1e0010>➜</span>   反转   <span style=color:#960050;background-color:#1e0010>➜</span>   压入 stack
            stack<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>i<span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(;</span> <span style=color:#f92672>!</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>empty</span><span style=color:#f92672>();</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     stack<span style=color:#f92672>(</span>空<span style=color:#f92672>)</span>   <span style=color:#960050;background-color:#1e0010>➜</span>   stack1 和 stack2
            String i <span style=color:#f92672>=</span> stack<span style=color:#f92672>.</span><span style=color:#a6e22e>peek</span><span style=color:#f92672>();</span>     预览栈顶元素
            <span style=color:#a6e22e>switch</span> <span style=color:#f92672>(</span>i<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;+&#34;</span><span style=color:#f92672>:</span>     同一优先级操作符<span style=color:#960050;background-color:#1e0010>（</span>低<span style=color:#960050;background-color:#1e0010>）</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;-&#34;</span><span style=color:#f92672>:</span>
                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>empty</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>     空栈直接进栈
                        stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>     否则清空 stack1 至 stack2<span style=color:#960050;background-color:#1e0010>，</span>再进栈
                        <span style=color:#a6e22e>for</span> <span style=color:#f92672>(;</span> <span style=color:#f92672>!</span>stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>empty</span><span style=color:#f92672>();</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                            stack2<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                        <span style=color:#f92672>}</span>
                        stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    <span style=color:#f92672>}</span>
                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;*&#34;</span><span style=color:#f92672>:</span>     同一优先级操作符<span style=color:#960050;background-color:#1e0010>（</span>高<span style=color:#960050;background-color:#1e0010>）</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;/&#34;</span><span style=color:#f92672>:</span>
                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>empty</span><span style=color:#f92672>()</span> <span style=color:#f92672>||</span> stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>peek</span><span style=color:#f92672>().</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;+&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>||</span> stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>peek</span><span style=color:#f92672>().</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;-&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
                        stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>     空栈直接进栈或者优先级比 stack1 栈顶元素高<span style=color:#960050;background-color:#1e0010>，</span>否则弹出 stack1 栈顶元素至 stack2<span style=color:#960050;background-color:#1e0010>，</span>再与 stack1 栈顶元素比较
                        stack2<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    <span style=color:#f92672>}</span>
                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
                <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>     操作数直接进栈 stack2
                    stack2<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(;</span> <span style=color:#f92672>!</span>stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>empty</span><span style=color:#f92672>();</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     stack1<span style=color:#f92672>(</span>空<span style=color:#f92672>)</span>   <span style=color:#960050;background-color:#1e0010>➜</span>   stack2
            stack2<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>stack1<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
        <span style=color:#f92672>}</span>
        String<span style=color:#f92672>[]</span> strings <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>[</span>stack2<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>()];</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>,</span> j <span style=color:#f92672>=</span> stack2<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>();</span> i <span style=color:#f92672>&lt;</span> j<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>     stack2<span style=color:#f92672>(</span>空<span style=color:#f92672>)</span>   <span style=color:#960050;background-color:#1e0010>➜</span>   String 数组
            strings<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> stack2<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>();</span>
        <span style=color:#f92672>}</span>
        String string <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>;</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>String i <span style=color:#f92672>:</span> reverseString<span style=color:#f92672>(</span>strings<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>     String 数组   <span style=color:#960050;background-color:#1e0010>➜</span>   反转   <span style=color:#960050;background-color:#1e0010>➜</span>   字符串
            string <span style=color:#f92672>+=</span> i <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>;</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>return</span> string<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String<span style=color:#f92672>[]</span> <span style=color:#a6e22e>reverseString</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> str<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     反转数组
        String<span style=color:#f92672>[]</span> strings <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>[</span>str<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>];</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>,</span> j <span style=color:#f92672>=</span> str<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> j<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
            strings<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> str<span style=color:#f92672>[</span>str<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> i <span style=color:#f92672>-</span> 1<span style=color:#f92672>];</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>return</span> strings<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
1<span style=color:#f92672>.</span><span style=color:#a6e22e>8</span> <span style=color:#f92672>+</span> 5 <span style=color:#f92672>/</span> 8 <span style=color:#f92672>*</span> 1<span style=color:#f92672>.</span><span style=color:#a6e22e>6</span>
1<span style=color:#f92672>.</span><span style=color:#a6e22e>8</span> 5 8 <span style=color:#f92672>/</span> 1<span style=color:#f92672>.</span><span style=color:#a6e22e>6</span> <span style=color:#f92672>*</span> <span style=color:#f92672>+</span>

<span style=color:#f92672>-------------------------------------------------------</span>

后缀表达式求值
<span style=color:#f92672>----</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        String a <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;1.8 5 8 / 1.6 * +&#34;</span><span style=color:#f92672>;</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>calculate<span style=color:#f92672>(</span>a<span style=color:#f92672>));</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>calculate</span><span style=color:#f92672>(</span>String str<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>str<span style=color:#f92672>.</span><span style=color:#a6e22e>matches</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;.*0 /.*-.*&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>     使用正则表达式匹配除以0<span style=color:#960050;background-color:#1e0010>，</span>分别返回 <span style=color:#e6db74>&#34;-∞&#34;</span> 或 <span style=color:#e6db74>&#34;∞&#34;</span>
            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;-∞&#34;</span><span style=color:#f92672>;</span>
        <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>str<span style=color:#f92672>.</span><span style=color:#a6e22e>matches</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;.*0 /.*+.*&#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;∞&#34;</span><span style=color:#f92672>;</span>
        <span style=color:#f92672>}</span>
        Stack<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> stack <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Stack<span style=color:#f92672>&lt;&gt;();</span>
        <span style=color:#66d9ef>double</span> a<span style=color:#f92672>,</span> b<span style=color:#f92672>;</span>

        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>String i <span style=color:#f92672>:</span> str<span style=color:#f92672>.</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>))</span> <span style=color:#f92672>{</span>     字符串   <span style=color:#960050;background-color:#1e0010>➜</span>   String 数组   <span style=color:#960050;background-color:#1e0010>➜</span>   扫描
            <span style=color:#a6e22e>switch</span> <span style=color:#f92672>(</span>i<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;+&#34;</span><span style=color:#f92672>:</span>     操作符则弹出栈顶2个元素进行运算<span style=color:#960050;background-color:#1e0010>，</span>再将结果进栈
                    a <span style=color:#f92672>=</span> Double<span style=color:#f92672>.</span><span style=color:#a6e22e>parseDouble</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>     String   <span style=color:#960050;background-color:#1e0010>➜</span>   <span style=color:#66d9ef>double</span>
                    b <span style=color:#f92672>=</span> Double<span style=color:#f92672>.</span><span style=color:#a6e22e>parseDouble</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    stack<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>String<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(</span>b <span style=color:#f92672>+</span> a<span style=color:#f92672>));</span>     <span style=color:#66d9ef>double</span>   <span style=color:#960050;background-color:#1e0010>➜</span>   String
                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;-&#34;</span><span style=color:#f92672>:</span>
                    a <span style=color:#f92672>=</span> Double<span style=color:#f92672>.</span><span style=color:#a6e22e>parseDouble</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    b <span style=color:#f92672>=</span> Double<span style=color:#f92672>.</span><span style=color:#a6e22e>parseDouble</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    stack<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>String<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(</span>b <span style=color:#f92672>-</span> a<span style=color:#f92672>));</span>
                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;*&#34;</span><span style=color:#f92672>:</span>
                    a <span style=color:#f92672>=</span> Double<span style=color:#f92672>.</span><span style=color:#a6e22e>parseDouble</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    b <span style=color:#f92672>=</span> Double<span style=color:#f92672>.</span><span style=color:#a6e22e>parseDouble</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    stack<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>String<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(</span>b <span style=color:#f92672>*</span> a<span style=color:#f92672>));</span>
                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;/&#34;</span><span style=color:#f92672>:</span>
                    a <span style=color:#f92672>=</span> Double<span style=color:#f92672>.</span><span style=color:#a6e22e>parseDouble</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    b <span style=color:#f92672>=</span> Double<span style=color:#f92672>.</span><span style=color:#a6e22e>parseDouble</span><span style=color:#f92672>(</span>stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>());</span>
                    stack<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>String<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(</span>b <span style=color:#f92672>/</span> a<span style=color:#f92672>));</span>
                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
                <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>     操作数直接进栈
                    stack<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>i<span style=color:#f92672>);</span>
                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>return</span> stack<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
2<span style=color:#f92672>.</span><span style=color:#a6e22e>8</span>
</code></pre></div></div><div class=sharing style=text-align:center><br><p>捐赠支持</p><p>如果我的文章对你有所帮助，欢迎通过支付宝的扫一扫，轻松的向我发起捐助。</p><p>对于你的支持，我会心怀感激且倍感荣幸地接受，并继续努力。</p><img src=https://ww4.sinaimg.cn/large/a15b4afegw1fbn096ql6dj20dw0dwwe9.jpg alt title data-action=zoom width=40%><p></p><br>&copy; 2015-2020 XhstormR</div></div></div></div><div id=backtop><a href=# title>TOP</a></div><nav id=TableOfContents><ul><li><a href=#双端队列>双端队列</a></li><li><a href=#固定顺序进栈求出栈顺序总数>固定顺序进栈，求出栈顺序总数</a></li><li><a href=#中缀表达式转后缀表达式的思路>中缀表达式转后缀表达式的思路</a></li><li><a href=#reference>Reference</a></li></ul></nav><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/yaml.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/kotlin.min.js></script><script>hljs.initHighlightingOnLoad()</script><script src=https://blog.xhstormr.tk/js/zoom.min.js></script><script>window.addEventListener("load",show),window.onscroll=show;function show(){document.documentElement.scrollTop+document.body.scrollTop>300?document.getElementById("backtop").style.display="block":document.getElementById("backtop").style.display="none"}</script><script type=text/javascript color=0,0,0 opacity=1 zindex=-2 count=49 src=https://cdnjs.cloudflare.com/ajax/libs/canvas-nest.js/2.0.4/canvas-nest.js></script></body></html>