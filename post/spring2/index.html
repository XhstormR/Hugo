<!doctype html><html lang=zh-cn manifest=https://blog.xhstormr.tk/offline.appcache><head><meta charset=utf-8><meta name=renderer content="webkit"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Spring Framework &#183; XhstormR</title><link rel=alternate type=application/rss+xml title=XhstormR href><link rel=icon type=image/x-icon href=https://blog.xhstormr.tk/favicon.ico><link rel=stylesheet href=https://blog.xhstormr.tk/css/uno.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/monokai-sublime.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js></script><script src=https://blog.xhstormr.tk/js/main.min.js async defer></script></head><body><div id=scriptHeader><span class="mobile btn-mobile-menu"><i class="fa fa-bars btn-mobile-menu__icon"></i>
<i class="fa fa-times btn-mobile-close__icon hidden"></i></span><header class="panel-cover panel-cover--collapsed"><div class=panel-main><div class="panel-main__inner panel-inverted"><div class=panel-main__content><h1 class="panel-cover__title panel-title"><a href=https://blog.xhstormr.tk/ title="link to homepage for XhstormR">XhstormR</a></h1><hr class=panel-cover__divider><p class=panel-cover__description>On a dark desert highway, cool wind in my hair.</p><hr class="panel-cover__divider panel-cover__divider--secondary"><div class=navigation-wrapper><nav class="cover-navigation cover-navigation--primary"><ul class=navigation><li class=navigation__item><a href=https://blog.xhstormr.tk#blog title="link to XhstormR blog" class=blog-button>Blog</a></li></ul></nav></div></div></div><div class=panel-cover--overlay></div></div></header></div><div class=bodytop><div class=content-wrapper><div class=content-wrapper__inner><div class=post><h1>Spring Framework</h1><span class=post-date>2017-06-07</span><p>Updated on 2017-06-07</p><blockquote><p style=text-align:center><img data-src=/uploads/spring.png alt title="Spring Framework" data-action=zoom width></p><script>[].forEach.call(document.querySelectorAll("img[data-src]"),function(a){a.setAttribute("src",a.getAttribute("data-src")),a.onload=function(){a.removeAttribute("data-src")}})</script><ul><li></li></ul><p style=text-align:center><img data-src=/uploads/spring.svg alt title="Bean 的生命周期" data-action=zoom width></p><script>[].forEach.call(document.querySelectorAll("img[data-src]"),function(a){a.setAttribute("src",a.getAttribute("data-src")),a.onload=function(){a.removeAttribute("data-src")}})</script><ul><li></li></ul><p style=text-align:center><img data-src=/uploads/spring-aop.svg alt title=面向切面编程 data-action=zoom width></p><script>[].forEach.call(document.querySelectorAll("img[data-src]"),function(a){a.setAttribute("src",a.getAttribute("data-src")),a.onload=function(){a.removeAttribute("data-src")}})</script></blockquote><h2 id=bean-的条件化注册>Bean 的条件化注册</h2><h3 id=mycondition>MyCondition</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> org.springframework.context.annotation.Condition<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.ConditionContext<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.core.env.Environment<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.core.type.AnnotatedTypeMetadata<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyCondition</span> <span style=color:#66d9ef>implements</span> Condition <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>matches</span><span style=color:#f92672>(</span>ConditionContext context<span style=color:#f92672>,</span> AnnotatedTypeMetadata metadata<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        Environment environment <span style=color:#f92672>=</span> context<span style=color:#f92672>.</span><span style=color:#a6e22e>getEnvironment</span><span style=color:#f92672>();</span>
        <span style=color:#66d9ef>return</span> environment<span style=color:#f92672>.</span><span style=color:#a6e22e>getProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;OS&#34;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Windows_NT&#34;</span><span style=color:#f92672>);</span>     注册条件
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=appconfig>AppConfig</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> org.springframework.context.annotation.Bean<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.Conditional<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.Configuration<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@Configuration</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AppConfig</span> <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Bean</span>
    <span style=color:#a6e22e>@Conditional</span><span style=color:#f92672>(</span>MyCondition<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>)</span>     指示注册条件
    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>str</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Hello, Windows&#34;</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=main>Main</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        AnnotationConfigApplicationContext context <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> AnnotationConfigApplicationContext<span style=color:#f92672>(</span>AppConfig<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>

        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>context<span style=color:#f92672>.</span><span style=color:#a6e22e>containsBean</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;str&#34;</span><span style=color:#f92672>));</span>

        context<span style=color:#f92672>.</span><span style=color:#a6e22e>destroy</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
<span style=color:#66d9ef>true</span>
</code></pre></div><h2 id=bean-的装配歧义>Bean 的装配歧义</h2><h3 id=fooddessert>food.Dessert</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>package</span> food<span style=color:#f92672>;</span>

<span style=color:#f92672>import</span> org.springframework.context.annotation.Primary<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.stereotype.Component<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Dessert</span> <span style=color:#f92672>{</span>
<span style=color:#f92672>}</span>

<span style=color:#a6e22e>@Component</span>
<span style=color:#a6e22e>@Primary</span>     首选<span style=color:#960050;background-color:#1e0010>（</span>也可用在 <span style=color:#a6e22e>@Bean</span> 上<span style=color:#960050;background-color:#1e0010>）</span>
<span style=color:#a6e22e>@Qualifier</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;cake&#34;</span><span style=color:#f92672>)</span>     限定<span style=color:#960050;background-color:#1e0010>（</span>也可用在 <span style=color:#a6e22e>@Bean</span> 上<span style=color:#960050;background-color:#1e0010>）（</span>显式指定 Bean 的限定符<span style=color:#960050;background-color:#1e0010>）</span>
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Cake</span> <span style=color:#66d9ef>implements</span> Dessert <span style=color:#f92672>{</span>
<span style=color:#f92672>}</span>

<span style=color:#a6e22e>@Component</span>
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>IceCream</span> <span style=color:#66d9ef>implements</span> Dessert <span style=color:#f92672>{</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=appconfig-1>AppConfig</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> food.Dessert<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.beans.factory.annotation.Autowired<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.beans.factory.annotation.Qualifier<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.ComponentScan<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.Configuration<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@Configuration</span>
<span style=color:#a6e22e>@ComponentScan</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;food&#34;</span><span style=color:#f92672>)</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AppConfig</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>private</span> Dessert dessert<span style=color:#f92672>;</span>

    <span style=color:#a6e22e>@Autowired</span>
    <span style=color:#a6e22e>@Qualifier</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;cake&#34;</span><span style=color:#f92672>)</span>     限定<span style=color:#960050;background-color:#1e0010>（</span>也可用在 <span style=color:#a6e22e>@Bean</span> 上<span style=color:#960050;background-color:#1e0010>）</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setDessert</span><span style=color:#f92672>(</span>Dessert dessert<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>dessert</span> <span style=color:#f92672>=</span> dessert<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

Bean 的限定符的缺省值为 Bean 的名称<span style=color:#960050;background-color:#1e0010>；</span>
Bean 的一名称的缺省值为 Bean 的类名<span style=color:#960050;background-color:#1e0010>（</span><span style=color:#a6e22e>@Component</span><span style=color:#960050;background-color:#1e0010>）</span>或者方法名<span style=color:#960050;background-color:#1e0010>（</span><span style=color:#a6e22e>@Bean</span><span style=color:#960050;background-color:#1e0010>）。</span>
</code></pre></div><h2 id=bean-的作用域>Bean 的作用域</h2><ul><li>单例：每个 <strong>容器</strong> 创建一个。（Singleton）（默认）</li><li>原型：每次 <strong>注入</strong> 创建一个。（Prototype）</li><li>会话：每个 <strong>会话</strong> 创建一个。（Session）</li><li>请求：每个 <strong>请求</strong> 创建一个。（Request）</li></ul><h3 id=appconfig-2>AppConfig</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> org.springframework.beans.factory.config.ConfigurableBeanFactory<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.Bean<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.Configuration<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.Scope<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@Configuration</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AppConfig</span> <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Bean</span>
    <span style=color:#a6e22e>@Scope</span><span style=color:#f92672>(</span>ConfigurableBeanFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>SCOPE_PROTOTYPE</span><span style=color:#f92672>)</span>    指示每次注入都新创建一个<span style=color:#960050;background-color:#1e0010>（</span>也可用在 <span style=color:#a6e22e>@Component</span> 上<span style=color:#960050;background-color:#1e0010>）</span>
    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>str</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ABC&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=main-1>Main</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        AnnotationConfigApplicationContext context <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> AnnotationConfigApplicationContext<span style=color:#f92672>(</span>AppConfig<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>

        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>context<span style=color:#f92672>.</span><span style=color:#a6e22e>getBean</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;str&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>==</span> context<span style=color:#f92672>.</span><span style=color:#a6e22e>getBean</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;str&#34;</span><span style=color:#f92672>));</span>

        context<span style=color:#f92672>.</span><span style=color:#a6e22e>destroy</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
<span style=color:#66d9ef>false</span>
</code></pre></div><h2 id=运行时值注入>运行时值注入</h2><h3 id=123properties>123.properties</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>name<span style=color:#f92672>=</span>David
</code></pre></div><h3 id=appconfig-3>AppConfig</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> org.springframework.beans.factory.annotation.Value<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.Bean<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.Configuration<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.PropertySource<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.core.env.Environment<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@Configuration</span>
<span style=color:#a6e22e>@PropertySource</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;classpath:/123.properties&#34;</span><span style=color:#f92672>)</span>     指示加载属性文件至 Spring 中的 Environment
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AppConfig</span> <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Bean</span>
    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>str1</span><span style=color:#f92672>(</span>Environment environment<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     方式一<span style=color:#960050;background-color:#1e0010>：</span>通过检索 Environment 获取属性
        <span style=color:#66d9ef>return</span> environment<span style=color:#f92672>.</span><span style=color:#a6e22e>getProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;name&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;缺省值&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Bean</span>
    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>str2</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@Value</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;${name:缺省值}&#34;</span><span style=color:#f92672>)</span> String name<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     方式二<span style=color:#960050;background-color:#1e0010>：</span>属性占位符
        <span style=color:#66d9ef>return</span> name<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Bean</span>
    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>str3</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@Value</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;#{environment[&#39;name&#39;]?:&#39;缺省值&#39;}&#34;</span><span style=color:#f92672>)</span> String name<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>     方式三<span style=color:#960050;background-color:#1e0010>：</span>SpEL
        <span style=color:#66d9ef>return</span> name<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=main-2>Main</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        AnnotationConfigApplicationContext context <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> AnnotationConfigApplicationContext<span style=color:#f92672>(</span>AppConfig<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>

        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>context<span style=color:#f92672>.</span><span style=color:#a6e22e>getBean</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;str1&#34;</span><span style=color:#f92672>));</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>context<span style=color:#f92672>.</span><span style=color:#a6e22e>getBean</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;str2&#34;</span><span style=color:#f92672>));</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>context<span style=color:#f92672>.</span><span style=color:#a6e22e>getBean</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;str3&#34;</span><span style=color:#f92672>));</span>

        context<span style=color:#f92672>.</span><span style=color:#a6e22e>destroy</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
David
David
David
</code></pre></div><h2 id=加载外部资源>加载外部资源</h2><h3 id=main-3>Main</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> org.springframework.context.support.GenericXmlApplicationContext<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.core.io.Resource<span style=color:#f92672>;</span>

<span style=color:#f92672>import</span> java.io.IOException<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span>
        GenericXmlApplicationContext context <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> GenericXmlApplicationContext<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;123.xml&#34;</span><span style=color:#f92672>);</span>

        Resource resource <span style=color:#f92672>=</span> context<span style=color:#f92672>.</span><span style=color:#a6e22e>getResource</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;classpath:123.xml&#34;</span><span style=color:#f92672>);</span>
<span style=color:#75715e>//      Resource resource = context.getResource(&#34;file:C:\\123.txt&#34;);
</span><span style=color:#75715e>//      Resource resource = context.getResource(&#34;http://localhost/spring.png&#34;);
</span><span style=color:#75715e></span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>resource<span style=color:#f92672>.</span><span style=color:#a6e22e>getFilename</span><span style=color:#f92672>());</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>resource<span style=color:#f92672>.</span><span style=color:#a6e22e>contentLength</span><span style=color:#f92672>());</span>

        context<span style=color:#f92672>.</span><span style=color:#a6e22e>destroy</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
123<span style=color:#f92672>.</span><span style=color:#a6e22e>xml</span>
190

https:<span style=color:#75715e>//docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/io/ResourceLoader.html#getResource-java.lang.String-
</span></code></pre></div><h2 id=面向切面编程>面向切面编程</h2><h3 id=方法包装>方法包装</h3><h4 id=无参>无参</h4><h5 id=concert>concert</h5><h6 id=performance>Performance</h6><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>package</span> concert<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Performance</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>perform</span><span style=color:#f92672>();</span>
<span style=color:#f92672>}</span>
</code></pre></div><h6 id=concert-1>Concert</h6><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>package</span> concert<span style=color:#f92672>;</span>

<span style=color:#f92672>import</span> org.springframework.stereotype.Component<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@Component</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Concert</span> <span style=color:#66d9ef>implements</span> Performance <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>perform</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;音乐会演奏..&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h6 id=audience><strong>Audience</strong></h6><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>package</span> concert<span style=color:#f92672>;</span>

<span style=color:#f92672>import</span> org.aspectj.lang.ProceedingJoinPoint<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.aspectj.lang.annotation.*<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.stereotype.Component<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@Aspect</span>     指示该类为切面
<span style=color:#a6e22e>@Component</span>     指示该类为组件<span style=color:#960050;background-color:#1e0010>（</span>Bean<span style=color:#960050;background-color:#1e0010>）</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Audience</span> <span style=color:#f92672>{</span>     切面
    <span style=color:#a6e22e>@Pointcut</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;execution(* concert.Performance.perform(..))&#34;</span><span style=color:#f92672>)</span>     切点
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>performance</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
    <span style=color:#f92672>}</span>

    <span style=color:#f92672>-------------------------------------------------------</span>
    第一种方式

    <span style=color:#a6e22e>@Before</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;performance()&#34;</span><span style=color:#f92672>)</span>     前置通知
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>a</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;观众入场就座&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Before</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;performance()&#34;</span><span style=color:#f92672>)</span>     前置通知
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>b</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;观众关闭手机&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@AfterReturning</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;performance()&#34;</span><span style=color:#f92672>)</span>     后置通知<span style=color:#960050;background-color:#1e0010>（</span>成功返回<span style=color:#960050;background-color:#1e0010>）</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>c</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;观众鼓掌喝彩&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@AfterThrowing</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;performance()&#34;</span><span style=color:#f92672>)</span>     后置通知<span style=color:#960050;background-color:#1e0010>（</span>发生异常<span style=color:#960050;background-color:#1e0010>）</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>d</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;观众要求退款&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#f92672>-------------------------------------------------------</span>
    第二种方式

    <span style=color:#a6e22e>@Around</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;performance()&#34;</span><span style=color:#f92672>)</span>     环绕通知
    <span style=color:#66d9ef>public</span> Object <span style=color:#a6e22e>x</span><span style=color:#f92672>(</span>ProceedingJoinPoint pjp<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        Object o <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>
        <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;观众入场就座&#34;</span><span style=color:#f92672>);</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;观众关闭手机&#34;</span><span style=color:#f92672>);</span>
            o <span style=color:#f92672>=</span> pjp<span style=color:#f92672>.</span><span style=color:#a6e22e>proceed</span><span style=color:#f92672>();</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;观众鼓掌喝彩&#34;</span><span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>Throwable e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;观众要求退款&#34;</span><span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>return</span> o<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

execution 匹配执行方法<span style=color:#960050;background-color:#1e0010>（</span>连接点<span style=color:#960050;background-color:#1e0010>）。</span>
</code></pre></div><h5 id=appconfig-4><strong>AppConfig</strong></h5><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> org.springframework.context.annotation.ComponentScan<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.Configuration<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.EnableAspectJAutoProxy<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@Configuration</span>
<span style=color:#a6e22e>@EnableAspectJAutoProxy</span>     启用 AspectJ 自动代理
<span style=color:#a6e22e>@ComponentScan</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;concert&#34;</span><span style=color:#f92672>)</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AppConfig</span> <span style=color:#f92672>{</span>
<span style=color:#f92672>}</span>
</code></pre></div><h5 id=main-4>Main</h5><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> concert.Performance<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        AnnotationConfigApplicationContext context <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> AnnotationConfigApplicationContext<span style=color:#f92672>(</span>AppConfig<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>

        Performance performance <span style=color:#f92672>=</span> context<span style=color:#f92672>.</span><span style=color:#a6e22e>getBean</span><span style=color:#f92672>(</span>Performance<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>
        performance<span style=color:#f92672>.</span><span style=color:#a6e22e>perform</span><span style=color:#f92672>();</span>

        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>performance<span style=color:#f92672>.</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>());</span>

        context<span style=color:#f92672>.</span><span style=color:#a6e22e>destroy</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
观众入场就座
观众关闭手机
音乐会演奏<span style=color:#f92672>..</span>
观众鼓掌喝彩
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>com</span><span style=color:#f92672>.</span><span style=color:#a6e22e>sun</span><span style=color:#f92672>.</span><span style=color:#a6e22e>proxy</span><span style=color:#f92672>.</span><span style=color:#a6e22e>$Proxy16</span>     使用基于接口的代理<span style=color:#960050;background-color:#1e0010>（</span>推荐<span style=color:#960050;background-color:#1e0010>）</span>
</code></pre></div><h4 id=有参>有参</h4><h5 id=log>log</h5><h6 id=log-1>Log</h6><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>package</span> log<span style=color:#f92672>;</span>

<span style=color:#f92672>import</span> org.springframework.stereotype.Component<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@Component</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Log</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>Object o<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>o<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h6 id=loginterceptor><strong>LogInterceptor</strong></h6><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>package</span> log<span style=color:#f92672>;</span>

<span style=color:#f92672>import</span> org.aspectj.lang.annotation.Aspect<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.aspectj.lang.annotation.Before<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.aspectj.lang.annotation.Pointcut<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.stereotype.Component<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@Aspect</span>
<span style=color:#a6e22e>@Component</span>     组件<span style=color:#960050;background-color:#1e0010>（</span>Bean<span style=color:#960050;background-color:#1e0010>）</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>LogInterceptor</span> <span style=color:#f92672>{</span>     切面
    <span style=color:#a6e22e>@Pointcut</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;execution(* log.Log.print(Object)) &amp;&amp; args(i)&#34;</span><span style=color:#f92672>)</span>     切点
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>logged</span><span style=color:#f92672>(</span>Object i<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Before</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;logged(j)&#34;</span><span style=color:#f92672>)</span>     前置通知
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>capture</span><span style=color:#f92672>(</span>Object j<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;捕获:&#34;</span> <span style=color:#f92672>+</span> j<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

execution 匹配执行方法<span style=color:#960050;background-color:#1e0010>（</span>连接点<span style=color:#960050;background-color:#1e0010>）。</span>
args 指示将被通知方法的入参传递给通知方法<span style=color:#960050;background-color:#1e0010>。（</span>Arguments<span style=color:#960050;background-color:#1e0010>）</span>
</code></pre></div><h5 id=appconfig-5><strong>AppConfig</strong></h5><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> org.springframework.context.annotation.ComponentScan<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.Configuration<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.EnableAspectJAutoProxy<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@Configuration</span>
<span style=color:#a6e22e>@EnableAspectJAutoProxy</span>     启用 AspectJ 自动代理
<span style=color:#a6e22e>@ComponentScan</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;log&#34;</span><span style=color:#f92672>)</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AppConfig</span> <span style=color:#f92672>{</span>
<span style=color:#f92672>}</span>
</code></pre></div><h5 id=main-5>Main</h5><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> log.Log<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        AnnotationConfigApplicationContext context <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> AnnotationConfigApplicationContext<span style=color:#f92672>(</span>AppConfig<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>

        Log log <span style=color:#f92672>=</span> context<span style=color:#f92672>.</span><span style=color:#a6e22e>getBean</span><span style=color:#f92672>(</span>Log<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>
        log<span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>1<span style=color:#f92672>);</span>
        log<span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>2<span style=color:#f92672>);</span>
        log<span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;A&#34;</span><span style=color:#f92672>);</span>

        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>log<span style=color:#f92672>.</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>());</span>

        context<span style=color:#f92672>.</span><span style=color:#a6e22e>destroy</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#f92672>----</span>
输出<span style=color:#960050;background-color:#1e0010>：</span>
捕获:1
1
捕获:2
2
捕获:A
A
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>log</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Log$$EnhancerBySpringCGLIB$$72b5a387</span>     由于 Bean 未实现任何接口<span style=color:#960050;background-color:#1e0010>，</span>使用 CGLib 生成基于类的代理<span style=color:#960050;background-color:#1e0010>（</span>不推荐<span style=color:#960050;background-color:#1e0010>）</span>
</code></pre></div><h3 id=方法引入>方法引入</h3><p>Kotlin 原生支持扩展函数。</p></div><div class=sharing style=text-align:center><br><p>捐赠支持</p><p>如果我的文章对你有所帮助，欢迎通过支付宝的扫一扫，轻松的向我发起捐助。</p><p>对于你的支持，我会心怀感激且倍感荣幸地接受，并继续努力。</p><img src=https://ww4.sinaimg.cn/large/a15b4afegw1fbn096ql6dj20dw0dwwe9.jpg alt title data-action=zoom width=40%><p></p><br>&copy; 2015-2020 XhstormR</div></div></div></div><div id=backtop><a href=# title>TOP</a></div><nav id=TableOfContents><ul><li><a href=#bean-的条件化注册>Bean 的条件化注册</a><ul><li><a href=#mycondition>MyCondition</a></li><li><a href=#appconfig>AppConfig</a></li><li><a href=#main>Main</a></li></ul></li><li><a href=#bean-的装配歧义>Bean 的装配歧义</a><ul><li><a href=#fooddessert>food.Dessert</a></li><li><a href=#appconfig-1>AppConfig</a></li></ul></li><li><a href=#bean-的作用域>Bean 的作用域</a><ul><li><a href=#appconfig-2>AppConfig</a></li><li><a href=#main-1>Main</a></li></ul></li><li><a href=#运行时值注入>运行时值注入</a><ul><li><a href=#123properties>123.properties</a></li><li><a href=#appconfig-3>AppConfig</a></li><li><a href=#main-2>Main</a></li></ul></li><li><a href=#加载外部资源>加载外部资源</a><ul><li><a href=#main-3>Main</a></li></ul></li><li><a href=#面向切面编程>面向切面编程</a><ul><li><a href=#方法包装>方法包装</a></li><li><a href=#方法引入>方法引入</a></li></ul></li></ul></nav><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/yaml.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/kotlin.min.js></script><script>hljs.initHighlightingOnLoad()</script><script src=https://blog.xhstormr.tk/js/zoom.min.js></script><script>window.addEventListener("load",show),window.onscroll=show;function show(){document.documentElement.scrollTop+document.body.scrollTop>300?document.getElementById("backtop").style.display="block":document.getElementById("backtop").style.display="none"}</script><script type=text/javascript color=0,0,0 opacity=1 zindex=-2 count=49 src=https://cdnjs.cloudflare.com/ajax/libs/canvas-nest.js/2.0.4/canvas-nest.js></script></body></html>