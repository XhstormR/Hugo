<!doctype html><html lang=zh-cn manifest=https://blog.xhstormr.tk/offline.appcache><head><meta charset=utf-8><meta name=renderer content="webkit"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>JSP Filter &#183; XhstormR</title><link rel=alternate type=application/rss+xml title=XhstormR href><link rel=icon type=image/x-icon href=https://blog.xhstormr.tk/favicon.ico><link rel=stylesheet href=https://blog.xhstormr.tk/css/uno.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/monokai-sublime.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js></script><script src=https://blog.xhstormr.tk/js/main.min.js async defer></script></head><body><div id=scriptHeader><span class="mobile btn-mobile-menu"><i class="fa fa-bars btn-mobile-menu__icon"></i>
<i class="fa fa-times btn-mobile-close__icon hidden"></i></span><header class="panel-cover panel-cover--collapsed"><div class=panel-main><div class="panel-main__inner panel-inverted"><div class=panel-main__content><h1 class="panel-cover__title panel-title"><a href=https://blog.xhstormr.tk/ title="link to homepage for XhstormR">XhstormR</a></h1><hr class=panel-cover__divider><p class=panel-cover__description>On a dark desert highway, cool wind in my hair.</p><hr class="panel-cover__divider panel-cover__divider--secondary"><div class=navigation-wrapper><nav class="cover-navigation cover-navigation--primary"><ul class=navigation><li class=navigation__item><a href=https://blog.xhstormr.tk#blog title="link to XhstormR blog" class=blog-button>Blog</a></li></ul></nav></div></div></div><div class=panel-cover--overlay></div></div></header></div><div class=bodytop><div class=content-wrapper><div class=content-wrapper__inner><div class=post><h1>JSP Filter</h1><span class=post-date>2017-04-03</span><p>Updated on 2017-04-03</p><blockquote><p style=text-align:center><img data-src=/uploads/jsp-filter.svg alt title=Filter data-action=zoom width></p><script>[].forEach.call(document.querySelectorAll("img[data-src]"),function(a){a.setAttribute("src",a.getAttribute("data-src")),a.onload=function(){a.removeAttribute("data-src")}})</script></blockquote><h2 id=工作原理>工作原理</h2><p>用于 <strong>拦截</strong> 客户端的 <strong>请求</strong> 信息和服务端的 <strong>响应</strong> 信息，并对这些信息进行 <strong>过滤</strong>。</p><h3 id=myfilter1>MyFilter1</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#66d9ef>package</span> a

<span style=color:#66d9ef>import</span> javax.servlet.*

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyFilter1</span> : Filter {     <span style=color:#960050;background-color:#1e0010>继承</span> Filter
    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>init</span>(filterConfig: FilterConfig) {     <span style=color:#960050;background-color:#1e0010>用于读取</span> web.xml <span style=color:#960050;background-color:#1e0010>中过滤器的配置参数（</span>&lt;<span style=color:#66d9ef>init</span>-<span style=color:#66d9ef>param</span>&gt;<span style=color:#960050;background-color:#1e0010>）</span>
        println(<span style=color:#e6db74>&#34;init---MyFilter1&#34;</span>)
    }

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>doFilter</span>(p0: ServletRequest, p1: ServletResponse, p2: FilterChain) {     <span style=color:#960050;background-color:#1e0010>核心方法</span>
        println(<span style=color:#e6db74>&#34;doFilter---MyFilter1---Start&#34;</span>)     <span style=color:#960050;background-color:#1e0010>放行前</span>
        p2.doFilter(p0, p1)     <span style=color:#960050;background-color:#1e0010>不过滤（放行）：将请求传递给下一个过滤器（若已为最后一个过滤器，则为目标资源）</span>
        println(<span style=color:#e6db74>&#34;doFilter---MyFilter1---End&#34;</span>)     <span style=color:#960050;background-color:#1e0010>放行后</span>

        <span style=color:#960050;background-color:#1e0010>要过滤：通过请求转发（</span>request<span style=color:#960050;background-color:#1e0010>）、请求重定向（</span>response<span style=color:#960050;background-color:#1e0010>），跳转至其他资源。</span>
    }

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>destroy</span>() {     <span style=color:#960050;background-color:#1e0010>用于释放过滤器所占用的资源</span>
        println(<span style=color:#e6db74>&#34;destroy---MyFilter1&#34;</span>)
    }
}
</code></pre></div><h3 id=myfilter2>MyFilter2</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#66d9ef>package</span> a

<span style=color:#66d9ef>import</span> javax.servlet.*

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyFilter2</span> : Filter {
    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>init</span>(filterConfig: FilterConfig) {
        println(<span style=color:#e6db74>&#34;init---MyFilter2&#34;</span>)
    }

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>doFilter</span>(p0: ServletRequest, p1: ServletResponse, p2: FilterChain) {
        println(<span style=color:#e6db74>&#34;doFilter---MyFilter2---Start&#34;</span>)
        p2.doFilter(p0, p1)
        println(<span style=color:#e6db74>&#34;doFilter---MyFilter2---End&#34;</span>)
    }

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>destroy</span>() {
        println(<span style=color:#e6db74>&#34;destroy---MyFilter2&#34;</span>)
    }
}
</code></pre></div><h3 id=indexjsp>index.jsp</h3><pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%
    System.out.println(&quot;index.jsp&quot;);
%&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id=webxml>web.xml</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style=color:#f92672>&lt;web-app</span> <span style=color:#a6e22e>xmlns:xsi=</span><span style=color:#e6db74>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
         <span style=color:#a6e22e>xsi:schemaLocation=</span><span style=color:#e6db74>&#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&#34;</span>
         <span style=color:#a6e22e>version=</span><span style=color:#e6db74>&#34;3.1&#34;</span><span style=color:#f92672>&gt;</span>

    <span style=color:#f92672>&lt;filter&gt;</span>     过滤器
        <span style=color:#f92672>&lt;filter-name&gt;</span>f1<span style=color:#f92672>&lt;/filter-name&gt;</span>
        <span style=color:#f92672>&lt;filter-class&gt;</span>a.MyFilter1<span style=color:#f92672>&lt;/filter-class&gt;</span>
    <span style=color:#f92672>&lt;/filter&gt;</span>
    <span style=color:#f92672>&lt;filter-mapping&gt;</span>
        <span style=color:#f92672>&lt;filter-name&gt;</span>f1<span style=color:#f92672>&lt;/filter-name&gt;</span>
        <span style=color:#f92672>&lt;url-pattern&gt;</span>/*<span style=color:#f92672>&lt;/url-pattern&gt;</span>     匹配所有路径
    <span style=color:#f92672>&lt;/filter-mapping&gt;</span>

    <span style=color:#f92672>&lt;filter&gt;</span>     过滤器
        <span style=color:#f92672>&lt;filter-name&gt;</span>f2<span style=color:#f92672>&lt;/filter-name&gt;</span>
        <span style=color:#f92672>&lt;filter-class&gt;</span>a.MyFilter2<span style=color:#f92672>&lt;/filter-class&gt;</span>
    <span style=color:#f92672>&lt;/filter&gt;</span>
    <span style=color:#f92672>&lt;filter-mapping&gt;</span>
        <span style=color:#f92672>&lt;filter-name&gt;</span>f2<span style=color:#f92672>&lt;/filter-name&gt;</span>
        <span style=color:#f92672>&lt;url-pattern&gt;</span>/*<span style=color:#f92672>&lt;/url-pattern&gt;</span>     匹配所有路径
    <span style=color:#f92672>&lt;/filter-mapping&gt;</span>

<span style=color:#f92672>&lt;/web-app&gt;</span>

过滤器链：若一个请求匹配有多个过滤器，则服务器会按照 web.xml 中定义过滤器的先后顺序将过滤器组装成一条链。
</code></pre></div><h3 id=output>Output</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>init---MyFilter1
init---MyFilter2

doFilter---MyFilter1---Start
doFilter---MyFilter2---Start
index.jsp
doFilter---MyFilter2---End
doFilter---MyFilter1---End

destroy---MyFilter1
destroy---MyFilter2
</code></pre></div><h2 id=dispatcher>Dispatcher</h2><ul><li>REQUEST：当目标资源是通过 <strong>用户直接访问</strong> 时，将调用该过滤器。（缺省值）</li><li>FORWARD：当目标资源是通过 **RequestDispatcher.forward()**访问时，将调用该过滤器。</li><li>INCLUDE：当目标资源是通过 <strong>RequestDispatcher.include()</strong> 访问时，将调用该过滤器。</li><li>ERROR：当目标资源是通过 <strong>异常处理机制</strong> 访问时，将调用该过滤器。</li><li>ASYNC：支持异步处理。</li></ul><h3 id=webxml-1>web.xml</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style=color:#f92672>&lt;web-app</span> <span style=color:#a6e22e>xmlns:xsi=</span><span style=color:#e6db74>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
         <span style=color:#a6e22e>xsi:schemaLocation=</span><span style=color:#e6db74>&#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&#34;</span>
         <span style=color:#a6e22e>version=</span><span style=color:#e6db74>&#34;3.1&#34;</span><span style=color:#f92672>&gt;</span>

    <span style=color:#f92672>&lt;filter&gt;</span>
        <span style=color:#f92672>&lt;filter-name&gt;</span>f1<span style=color:#f92672>&lt;/filter-name&gt;</span>
        <span style=color:#f92672>&lt;filter-class&gt;</span>a.MyFilter1<span style=color:#f92672>&lt;/filter-class&gt;</span>
    <span style=color:#f92672>&lt;/filter&gt;</span>
    <span style=color:#f92672>&lt;filter-mapping&gt;</span>
        <span style=color:#f92672>&lt;filter-name&gt;</span>f1<span style=color:#f92672>&lt;/filter-name&gt;</span>
        <span style=color:#f92672>&lt;url-pattern&gt;</span>/error.jsp<span style=color:#f92672>&lt;/url-pattern&gt;</span>
        <span style=color:#f92672>&lt;dispatcher&gt;</span>ERROR<span style=color:#f92672>&lt;/dispatcher&gt;</span>     [REQUEST, FORWARD, INCLUDE, ERROR, ASYNC]
    <span style=color:#f92672>&lt;/filter-mapping&gt;</span>                          ↳ 若未配置 dispatcher，则 REQUEST 为缺省值

    <span style=color:#f92672>&lt;error-page&gt;</span>
        <span style=color:#f92672>&lt;location&gt;</span>/error.jsp<span style=color:#f92672>&lt;/location&gt;</span>
    <span style=color:#f92672>&lt;/error-page&gt;</span>

<span style=color:#f92672>&lt;/web-app&gt;</span>

直接访问 http://localhost:8080/error.jsp，对 f1 过滤器无效（用户直接访问）
直接访问 http://localhost:8080/15742.jsp，对 f1 过滤器有效（异常处理机制，404）
</code></pre></div><h3 id=myfilter1-1>MyFilter1</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#66d9ef>package</span> a

<span style=color:#66d9ef>import</span> javax.servlet.*
<span style=color:#66d9ef>import</span> javax.servlet.annotation.WebFilter

<span style=color:#a6e22e>@WebFilter</span>(urlPatterns = arrayOf(<span style=color:#e6db74>&#34;/error.jsp&#34;</span>), dispatcherTypes = arrayOf(DispatcherType.ERROR))     <span style=color:#75715e>//通过注解方式配置过滤器
</span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyFilter1</span> : Filter {
    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>init</span>(filterConfig: FilterConfig) {}

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>doFilter</span>(p0: ServletRequest, p1: ServletResponse, p2: FilterChain) {
        println(<span style=color:#e6db74>&#34;发生错误!&#34;</span>)
        p2.doFilter(p0, p1)     <span style=color:#960050;background-color:#1e0010>放行</span>
    }

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>destroy</span>() {}
}
</code></pre></div><h3 id=errorjsp>error.jsp</h3><pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;错误页面&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;错误页面&lt;/h1&gt;
&lt;hr&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h2 id=登录页面案例>登录页面案例</h2><h3 id=jsp>JSP</h3><pre><code>index.jsp
----
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;登录页面&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;登录页面&lt;/h1&gt;
&lt;hr&gt;
&lt;form action=&quot;doLogin.jsp&quot; name=&quot;loginForm&quot; method=&quot;post&quot;&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;账号：&lt;/td&gt;
            &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;密码：&lt;/td&gt;
            &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;input type=&quot;reset&quot; value=&quot;重置&quot;&gt;&lt;/td&gt;
            &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;

doLogin.jsp
----
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%
    request.setCharacterEncoding(&quot;UTF-8&quot;);
    String username = request.getParameter(&quot;username&quot;);
    String password = request.getParameter(&quot;password&quot;);
    if (&quot;admin&quot;.equals(username) &amp;&amp; &quot;123456&quot;.equals(password)) {
        session.setAttribute(&quot;username&quot;, username);
        response.sendRedirect(&quot;login_successful.jsp&quot;);
    } else {
        response.sendRedirect(&quot;login_failed.jsp&quot;);
    }
%&gt;

login_successful.jsp
----
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;登录成功&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;登录成功&lt;/h1&gt;
&lt;hr&gt;
欢迎用户：${username}     EL 表达式
&lt;/body&gt;
&lt;/html&gt;

login_failed.jsp
----
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;登录失败&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;登录失败&lt;/h1&gt;
&lt;hr&gt;
&lt;a href=&quot;/&quot;&gt;返回登录页面&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id=myfilter>MyFilter</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyFilter</span> : Filter {
    <span style=color:#66d9ef>lateinit</span> <span style=color:#66d9ef>var</span> noFilterList: List&lt;String&gt;

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>init</span>(filterConfig: FilterConfig) {
        noFilterList = filterConfig.getInitParameter(<span style=color:#e6db74>&#34;noFilterList&#34;</span>).split(<span style=color:#e6db74>&#34;;&#34;</span>)     <span style=color:#960050;background-color:#1e0010>获取放行关键字</span>
    }

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>doFilter</span>(request: ServletRequest, response: ServletResponse, chain: FilterChain) {
        <span style=color:#66d9ef>val</span> request1 = request <span style=color:#66d9ef>as</span> HttpServletRequest
        <span style=color:#66d9ef>val</span> response1 = response <span style=color:#66d9ef>as</span> HttpServletResponse
        request1.characterEncoding = <span style=color:#e6db74>&#34;UTF-8&#34;</span>     <span style=color:#960050;background-color:#1e0010>统一指定输入字符集</span>

        <span style=color:#66d9ef>val</span> uri = request1.requestURI     <span style=color:#960050;background-color:#1e0010>请求路径</span>
        <span style=color:#66d9ef>if</span> (request1.session.getAttribute(<span style=color:#e6db74>&#34;username&#34;</span>) <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> uri <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;/&#34;</span> <span style=color:#f92672>||</span> check(uri)) {
            chain.doFilter(request, response)     <span style=color:#960050;background-color:#1e0010>放行（通过）</span>
        } <span style=color:#66d9ef>else</span> {
            response1.sendRedirect(<span style=color:#e6db74>&#34;/&#34;</span>)     <span style=color:#960050;background-color:#1e0010>不放行（重定向至根目录）</span>
        }
    }

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>destroy</span>() {
    }

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>check</span>(s: String) = noFilterList.find { s.contains(<span style=color:#66d9ef>it</span>) } <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>     <span style=color:#960050;background-color:#1e0010>若请求路径包含某个关键字，则返回</span> <span style=color:#66d9ef>true</span>
}
</code></pre></div><h3 id=webxml-2>web.xml</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style=color:#f92672>&lt;web-app</span> <span style=color:#a6e22e>xmlns:xsi=</span><span style=color:#e6db74>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
         <span style=color:#a6e22e>xsi:schemaLocation=</span><span style=color:#e6db74>&#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&#34;</span>
         <span style=color:#a6e22e>version=</span><span style=color:#e6db74>&#34;3.1&#34;</span><span style=color:#f92672>&gt;</span>

    <span style=color:#f92672>&lt;filter&gt;</span>
        <span style=color:#f92672>&lt;filter-name&gt;</span>f<span style=color:#f92672>&lt;/filter-name&gt;</span>
        <span style=color:#f92672>&lt;filter-class&gt;</span>a.MyFilter<span style=color:#f92672>&lt;/filter-class&gt;</span>
        <span style=color:#f92672>&lt;init-param&gt;</span>
            <span style=color:#f92672>&lt;param-name&gt;</span>noFilterList<span style=color:#f92672>&lt;/param-name&gt;</span>     放行关键字
            <span style=color:#f92672>&lt;param-value&gt;</span>index.jsp;doLogin.jsp;login_failed.jsp<span style=color:#f92672>&lt;/param-value&gt;</span>
        <span style=color:#f92672>&lt;/init-param&gt;</span>
    <span style=color:#f92672>&lt;/filter&gt;</span>
    <span style=color:#f92672>&lt;filter-mapping&gt;</span>
        <span style=color:#f92672>&lt;filter-name&gt;</span>f<span style=color:#f92672>&lt;/filter-name&gt;</span>
        <span style=color:#f92672>&lt;url-pattern&gt;</span>/*<span style=color:#f92672>&lt;/url-pattern&gt;</span>     匹配所有路径
    <span style=color:#f92672>&lt;/filter-mapping&gt;</span>

<span style=color:#f92672>&lt;/web-app&gt;</span>
</code></pre></div></div><div class=sharing style=text-align:center><br><p>捐赠支持</p><p>如果我的文章对你有所帮助，欢迎通过支付宝的扫一扫，轻松的向我发起捐助。</p><p>对于你的支持，我会心怀感激且倍感荣幸地接受，并继续努力。</p><img src=https://ww4.sinaimg.cn/large/a15b4afegw1fbn096ql6dj20dw0dwwe9.jpg alt title data-action=zoom width=40%><p></p><br>&copy; 2015-2020 XhstormR</div></div></div></div><div id=backtop><a href=# title>TOP</a></div><nav id=TableOfContents><ul><li><a href=#工作原理>工作原理</a><ul><li><a href=#myfilter1>MyFilter1</a></li><li><a href=#myfilter2>MyFilter2</a></li><li><a href=#indexjsp>index.jsp</a></li><li><a href=#webxml>web.xml</a></li><li><a href=#output>Output</a></li></ul></li><li><a href=#dispatcher>Dispatcher</a><ul><li><a href=#webxml-1>web.xml</a></li><li><a href=#myfilter1-1>MyFilter1</a></li><li><a href=#errorjsp>error.jsp</a></li></ul></li><li><a href=#登录页面案例>登录页面案例</a><ul><li><a href=#jsp>JSP</a></li><li><a href=#myfilter>MyFilter</a></li><li><a href=#webxml-2>web.xml</a></li></ul></li></ul></nav><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/yaml.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/kotlin.min.js></script><script>hljs.initHighlightingOnLoad()</script><script src=https://blog.xhstormr.tk/js/zoom.min.js></script><script>window.addEventListener("load",show),window.onscroll=show;function show(){document.documentElement.scrollTop+document.body.scrollTop>300?document.getElementById("backtop").style.display="block":document.getElementById("backtop").style.display="none"}</script><script type=text/javascript color=0,0,0 opacity=1 zindex=-2 count=49 src=https://cdnjs.cloudflare.com/ajax/libs/canvas-nest.js/2.0.4/canvas-nest.js></script></body></html>